/*! "1.328.4-20251016-033715-5c2d670" */!function(){"use strict";const e=e=>{const o=e?e.replace(/(_|-|\/)[0-9]{7,8}$/,"").replace(/\/articles\/c[0-9a-hj-np-z]{10,}o$/,"/articles").replace(/(_|-|\/)+$/,""):"";return o.indexOf("/")>-1?o.split("/"):[o]},o=e=>{if("undefined"==typeof document||!e)return"";const o=`; ${document.cookie}`.split(`; ${encodeURIComponent(e)}=`);let t="";return 2===o.length&&(t=decodeURIComponent(o.pop().split(";").shift())),t},t=(e,o,t)=>{if("undefined"==typeof document||!e)return;const n=new Date(Date.now()+864e5*t);document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(o)}; expires=${n.toGMTString()}; domain=.bbc.com; path=/`},n=e=>{window.dotcom.consent={...window.dotcom.consent,native:e}},a=["AT","AX","BE","BG","BL","CH","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GB","GF","GG","GI","GP","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MF","MT","MQ","NL","NO","PL","PM","PT","RE","RO","SE","SI","SK","YT"],i=()=>"undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href),s=()=>"undefined"!=typeof live&&"test"===live||-1!==window.location.href.indexOf("test.api.bbc.co.uk")||/(localhost|sandbox|int|test)(.dev)*.bbc.co*/.test(window.location.href)||/web.(int|test).bbcx.test.api.bbc.com/.test(window.location.href),c=()=>!0===window.dotcom.userinfo.notUkIp&&!0===window.dotcom.userinfo.ads,d=()=>i()||c()&&window.dotcom.flags.state>0&&window.dotcom.flags.adverts,r=e=>{var o;window.dotcom.userinfo.country=e["X-Country"],window.dotcom.userinfo.notUkIp="no"===e["X-Ip_is_uk_combined"],window.dotcom.userinfo.ads="yes"===e["X-Ip_is_advertise_combined"],!0===window.dotcom.userinfo.notUkIp&&(window.dotcom.userinfo.eea=!!(o=window.dotcom.userinfo.country)&&-1!==a.indexOf(o.toUpperCase()))},l=(e,o)=>{o||(delete e.adverts,delete e.analytics),Object.keys(e).forEach((o=>{let t=e[o];t="true"===t||t,t="false"!==t&&t,window.dotcom.flags[o]=t})),"www.bbc.com"!==window.location.hostname||"/news/uk/the_queen"!==window.location.pathname&&"/news/live/uk-62902778"!==window.location.pathname&&"/news/topics/c8nq32jwn4rt"!==window.location.pathname&&"/news/topics/cq23pdgvr7rt"!==window.location.pathname||(window.dotcom.flags.adverts=!1)},p=async(e,o)=>fetch(e).then((e=>{if(e.ok)return e.json();throw new Error(o)})),w=async()=>{const e="Error fetching flags",o=await p(s()?"https://gn-flagpoles.test.api.bbci.co.uk/ngas":"https://gn-flagpoles.api.bbci.co.uk/ngas",e).catch((()=>{throw window.dotcom.flags.state=-2,new Error(e)}));l(o,!1),window.dotcom.flags.state=2};let u=[];const m={isAdsDebug:i,isTestEnv:s,isStageEnv:()=>/stage.bbc.co*/.test(window.location.href)||/web.stage.bbcx.test.api.bbc.com/.test(window.location.href),isLiveEnv:()=>"www.bbc.com"===window.location.hostname,isSignedIn:()=>o("ckns_id"),isDotcomAllowed:c,syncAdsEnabled:()=>d(),isAdsEnabled:()=>new Promise((e=>{window.dotcom.userinfo.state<0||window.dotcom.flags.state<0?e(d()):0===window.dotcom.userinfo.state||0===window.dotcom.flags.state?u.push(e):e(d())})),checkCookies(){n(1);const e=o("ckns_policy");(i()||e&&"1"===e.charAt(2))&&n(2),e||(n(2),t("ckns_policy","111",365),t("ckns_explicit","0",365))},async init(){const e=new URLSearchParams(window.location.search);try{i()?(window.dotcom.userinfo.notUkIp=!0,window.dotcom.userinfo.ads=!0,window.dotcom.flags.adverts=!0,window.dotcom.flags.analytics=!0,window.dotcom.userinfo.state=1,await w()):(await(async()=>{const e="Error fetching userinfo",{userinfo:o={}}=window.dotcom.config;if(o["X-Country"]&&o["X-Ip_is_uk_combined"]&&o["X-Ip_is_advertise_combined"])return r(o),void(window.dotcom.userinfo.state=2);const{host:t}=window.location,n="www.context-switcher.api.bbc.com"===(a=t)||"www.context-switcher.test.api.bbc.com"===a?"/userinfo":"https://www.bbc.co.uk/userinfo";var a;const i=await p(n,e).catch((()=>{throw window.dotcom.userinfo.state=-1,new Error(e)}));r(i),window.dotcom.userinfo.state=1})(),c()?window.dotcom.config.opsFlags&&!e.has("force-client-flagpoles")?(l(window.dotcom.config.opsFlags,!0),l(window.dotcom.config.ngasFlags,!1),window.dotcom.flags.state=2):(await(async()=>{const e="Error fetching gnlops flags",o=await p(s()?"https://gn-flagpoles.test.api.bbci.co.uk/gnlops":"https://gn-flagpoles.api.bbci.co.uk/gnlops",e).catch((()=>{throw window.dotcom.flags.state=-1,new Error(e)}));l(o,!0),window.dotcom.flags.state=1})(),!0!==window.dotcom.flags.adverts&&!0!==window.dotcom.flags.analytics||await w()):window.dotcom.flags.state=-3)}finally{u&&u.length>0&&(u.forEach((e=>e(d()))),u=[])}},reset(){u=[]}},g=()=>window.dotcom.data,f=new RegExp("^(/)?(afaanoromoo|afrique|amharic|arabic|azeri|bengali|burmese|gahuza|gujarati|hausa|hindi|igbo|indonesia|korean|kyrgyz|japanese|marathi|mundo|naidheachdan|nepali|pashto|persian|pidgin|portuguese|punjabi|russian|serbian|sinhala|somali|swahili|tajik|tamil|telugu|thai|tigrinya|turkce|ukchina|ukrainian|urdu|uzbek|vietnamese|yoruba|zhongwen)"),_=new RegExp("^/ws/av-embeds/"),h=e=>{const o=e||window.location.pathname;return f.test(o)||_.test(o)},v=()=>!!window.dotcom?.config?.xPlatform,b=()=>{const e=g().channel;return("future"===e||"worklife"===e||"travel"===e||"culture"===e)&&!v()},y=h,E=b,S=()=>"storyworks"===g().channel||"special-features"===g().channel,x=v;let I=!1;const k=()=>{if(!x()||I)return;let e;const{pageData:o}=window.dotcom.config,{newKeyValues:t}=window.dotcom.data;o.collection&&o.collection.length&&(e=o.collection.map((e=>e.title.toLowerCase().replace(/ /g,"_"))).join(","),t.coll=e),o.destination&&o.destination.length&&(e=o.destination.map((e=>e.title.toLowerCase().replace(/ /g,"_"))).join(","),t.destination=e),o.topics&&o.topics.length&&(e=o.topics.map((e=>e.title.toLowerCase().replace(/ /g,"_"))).join(","),t.top_tags=e),o.urn&&(t.page_id=o.urn),o.type&&(t.page_type=o.type.replace("indexPage","index")),window.dotcom.config.adCampaign&&(t.leg_n_keyword=window.dotcom.config.adCampaign),window.dotcom.config.topics&&window.dotcom.config.topics.length&&(t.leg_n_topic=window.dotcom.config.topics);const n=["av_content_genre","av_brand_id","av_series_id","av_episode_id"];o.pageProps&&(n.forEach((e=>{o.pageProps[e]&&(t[e]=o.pageProps[e].toLowerCase().replace(/ /g,"_"))})),o.pageProps.article_word_count&&(t.art_len=`${o.pageProps.article_word_count}`));const a=window.location.pathname.split("/");a.length>2&&"audio"===a[1]&&"category"===a[2]&&(t.av_category_id=a[3],a[4]&&(t.av_subcategory_id=a[4])),I=!0},C=()=>window.dotcom.data,T=e=>(e=>C().urlParams.has(e))(e)?C().urlParams.get(e):"",$=e=>{const o={AV:"media_asset",INDEX:"index",FIX:"index",STY:"story"};let t;const n=window?.SIMORGH_DATA?.pageData?.metadata?.type;return void 0===t&&n&&(t=o[n]),void 0===t&&(t=/[0-9]{7,8}$/.test(e)?"story":"index",(e.includes("/articles/")||e.includes("/article/"))&&(t="story")),/\/(sport|news)\/live\//.test(e)&&(t="live_event"),t},U=["/4817","/bbccom.ENV.site.SITE","/SECTION_SUBSECTION"],O=["/4817","/bbccom","/PILLAR","/SECT","/ASSET_TYPE"];let A="";const j=e=>e.replace(/^(news\/av\/)(.*)\/[^/]+$/,"$1$2").replace(/^news\/av\//,"news/").replace(/_and_/,"-").replace(/^news\/uk-(england|northern-ireland|scotland|wales)($|-|\/)/,"news/uk/$2").replace(/^news\/uk-([a-z]+)(-([a-z]+))?/,"news/$1/$3").replace(/^news\/(world)-([a-z-]+)/,"news/$2/").replace(/^sport\/av\//,"sport/").replace(/^sport\/(world|uk)/,"sport").replace(/^sport\/(.*)\/sports($|\/)/,"sport/$1$2").replace(/market-data\/overview/,"market-data").replace(/^(programmes)/,"news/$1");let P;const N=e=>{let o=e&&e.length&&e[0].url&&e[0].url.split("/");return o&&o.length>2?(o.shift(),o.shift(),o=o.join("-"),o.replace("topic-","").replace("world-","")):o&&2===o.length?o.pop():null},R=(o,t)=>{if(A)return A;const n=x()?"test":"",a=[...U],i=o.split("?")[0],s=P||T("site")||n;P=s;const c=T("adUnit");let d=i.match(/http(|s):\/\/[a-z0-9\-.]+(.com|.co.uk)(:\d+)?(\/)?(.*)?/);d=d?d.pop():"",d=d&&""!==d?j(d):d;const r=e(d)||[],l=y(d),p=m.isTestEnv(i);let w=""===r[0]||"wwhp"===r[0]?"www":r[0];if(c)return c;void 0===r[0]&&(r[0]="homepage"),"sport"!==r[0]&&"weather"!==r[0]||(w="news",r[1]&&(r[1]=r[1].replace("-",""))),"in-pictures"===r[1]&&(r[1]="inpictures"),"news"===r[0]&&r[1]&&r[1].indexOf("-")>0&&("index"===$(window.location.pathname)?r[1]=r[1].replace("-",""):r[1]=r[1].split("-")[0]),"test"===s&&(w="flash"),"preview"===s&&(w="test"),"russian"!==r[0]||p||"preview"===s||"test"===s||(w="russia"),"zhongwen"!==r[0]&&"ukchina"!==r[0]||p||(w=r[0]+r[1]),"storyworks"!==r[0]&&"special-features"!==r[0]||(w="future|culture|travel|worklife|sport|worldwide|earth|capital|britain|autos".indexOf(r[1])<0?"specialfeatures":r[1]),a[1]=""!==s?a[1].replace("ENV",s):a[1].replace("ENV",p?"test":"live"),l&&(!p&&"preview"!==s&&"test"!==s||"live"===s)&&(a[1]=a[1].replace("/bbccom.","/bbcworldservice.")),a[1]=l||!t||p||"test"===s||"preview"===s?a[1].replace("SITE",w).replace("japanese","japan"):a[1].replace("SITE",`mobile.${w}`),"zhongwen"===r[0]?(a[2]=a[2].replace("SECTION",r[0]+r[1]),a[2]=a[2].replace("SUBSECTION",void 0!==r[2]?`${r[2]}_content`:"home_content")):"reel"===r[0]?(a[2]=a[2].replace("SECTION",r[0]),a[2]=a[2].replace("SUBSECTION",void 0!==r[1]?"other":"homepage")):"storyworks"===r[0]||"special-features"===r[0]?(a[1]=a[1].replace("SITE",r[1]),window.advertising?.keywords.subsect?a[2]=a[2].replace("SECTION_SUBSECTION",window.advertising.keywords.subsect):window.dotcomConfig.adsSubsection?a[2]=a[2].replace("SECTION_SUBSECTION",window.dotcomConfig.adsSubsection):a[2]=a[2].replace("SECTION_SUBSECTION",`${r[1]}`.replace(/-/g,""))):(a[2]=a[2].replace("SECTION",""===r[0]||"wwhp"===r[0]?"bbc":r[0]),a[2]=a[2].replace("SUBSECTION",void 0!==r[1]?`${r[1]}_content`:"homepage_int").replace("articles_",""));const u=a.join(""),g=(o=>{const t=[...O];let n=o.replace("#","").split("?")[0].match(/http(|s):\/\/[a-z0-9\-.]+(.com|.co.uk)(:\d+)?(\/)?(.*)?/);n=n?n.pop():"",n=n&&""!==n?j(n):n;const a=e(n)||[],{pageData:i}=window.dotcom.config;let s=i&&i.type&&i.type.replace("indexPage","index")||$(window.location.pathname).replace("story","article");const c=i.pillar&&i.pillar.length&&i.pillar[0].url&&i.pillar[0].url.replace("/","")||a[0],d=N(i.section)?N(i.section):a[1];let r=t.join("");return r=""===a[0]||void 0===a[0]?r.replace("PILLAR","home").replace("SECT","home"):r.replace("PILLAR",c),""!==a[1]&&void 0!==a[1]||"index"!==s||(r=r.replace("SECT",`${c}_home`)),"travel"===a[0]&&"destinations"===a[1]&&(r=void 0!==a[2]?r.replace("SECT",`${a[0]}_${a[1]}-${a[2]}`):r.replace("SECT",`${a[0]}_${a[1]}`)),"world"===a[1]?void 0!==a[2]&&(r=void 0!==a[3]?r.replace("SECT",`${a[2]}-${a[3]}`):r.replace("SECT",a[2])):r="articles"===d||"videos"===d||"brand"===d||"play"===d||"series"===d?r.replace("SECT",`${c}_other`):"article"===d?r.replace("SECT",c):r.replace("SECT",d),"audio"===c&&"category"===a[1]&&a[2]&&(s="audio"),r=r.replace("ASSET_TYPE",s),r})(o);return window.dotcom.data.legAdUnit=u,window.dotcom.data.newAdUnit=g,window.dotcom.flags?.newadunit&&x()&&!T("site")&&!T("adUnit")?(window.dotcom.data.newKeyValues.leg_adunit2=u,g):u};let L=[];const z="log",B={enabled:!1};("undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href)||"undefined"!=typeof document&&-1!==document.cookie.indexOf("ads-debug="))&&(B.enabled=!0);const D=function(e){return(o,t=z)=>{B.enabled&&console[t](`dotcom:${e} ${o}`)}}("permutive"),F=()=>{D("get cust_params");const e=window.localStorage.getItem("_pdfps");return encodeURIComponent(JSON.parse(e||"[]").slice(0,250).join(","))},M=[[0,320],[319,400],[399,600],[599,1008],[1007,1280],[1279,99999]],G=[[0,400],[399,600],[599,768],[767,1008],[1007,1280],[1279,99999]];let V=JSON.parse(JSON.stringify([[0,320],[319,400],[399,600],[599,900],[899,1280],[1279,99999]]));V.pop(),V[4][1]=99999;const X=()=>"reel"===C().channel||E()||S(),K=X,q=()=>window.innerWidth<900,Y=()=>{const e=o("ckns_policy");return e&&"1"===e.charAt(1)},H="fedID.",J="gam",W=H,Q=()=>{const{localStorage:e}=window,o={...e};return Object.keys(o).filter((e=>e.includes(W))).reduce(((e,t)=>{const[,n,a]=t.split(".");return e[n]=n in e?e[n]:{},e[n][a]=o[t],e}),{})};let Z="";const{hostname:ee}=window.location,oe={sz:"640x360",iu:"",env:"vp",gdfp_req:"1",impl:"s",output:"xml_vast3",unviewed_position_start:"1",ord:"",ad_rule:"1",ppid:"",ad_type:"audio_video",plcmt:"1",vpos:"preroll",vpmute:"0",wta:"1",gdpr:"0",cust_params:{channel:"",sectn:"",domain:ee,story_id:"",ctype:"content",asset_type:"story",referrer:"",referrer_domain:"",gs_cat:"",group:"",fedid_dev_ver:"",fedid_dev_val:"",fedid_sig_val:"",fedid_sig_ver:"",bsc:""}};const te=e=>Object.keys(e).map((o=>`${o}=${e[o]}`)).join("&"),ne=async()=>{const e={...oe};e.cust_params={...oe.cust_params};const{adCampaign:o,topics:t,adUnit:n}=C();n||(window.dotcom.data.adUnit=R(window.top.location.href,q()));const a=T("uid"),i=L,s=F();if(e.iu=`${window.dotcom.data.adUnit}/video`,e.ord=Math.floor(1e9*Math.random()),await(async e=>new Promise((o=>{Z?(e.ppid=Z,o(!0)):setTimeout((()=>{e.ppid=Z,o(!0)}),200)})))(e),e.cust_params.group=(()=>{const e=window.innerWidth,o=x()?G:M;let t="0";for(let n=0;n<o.length;n+=1){const a=o[n];e>a[0]&&e<a[1]&&(t=n.toString())}return t})(),""!==a&&(e.cust_params.uid=a),i.length&&(e.cust_params.excl_cat=i.join(",")),o&&(e.cust_params.keyword=o),t?.length){const o=t.map((e=>e.replace(/\s+/g,"-"))).join(",");e.cust_params.topics=encodeURIComponent(o)}s&&(e.cust_params.permutive=s);const{fedid_dev_ver:c,fedid_dev_val:d}=function(){const{fedid_google:e}=window.dotcom.flags;if(!e)return{};if(!Y())return{};const o=Q(),t=o?.[J]?.id,n=o?.[J]?.version;return{fedid_dev_val:t,fedid_dev_ver:n}}();c&&(e.cust_params.fedid_dev_ver=c),d&&(e.cust_params.fedid_dev_val=d),window.dotcom.idcta.signedInFedId.gam&&(e.cust_params.fedid_sig_val=window.dotcom.idcta.signedInFedId.gam.id,e.cust_params.fedid_sig_ver=window.dotcom.idcta.signedInFedId.gam.version),await(e=>{let o=0;return K()&&(o=E()?200:15),new Promise((t=>{setTimeout((()=>{let{keyValues:o}=C();x()&&(k(),o=C().newKeyValues),Object.keys(o).forEach((t=>{e.cust_params[t]=o[t]})),t("resolved")}),o)}))})(e),""===e.cust_params.story_id&&(e.cust_params.asset_type="index",e.cust_params.ctype="index"),await(e=>new Promise((o=>{const t=t=>{t.BSC&&t.BSC.length&&(e.cust_params.bsc=t.BSC.join(",")),o(!0)};let n=window.dvtag&&window.dvtag.getTargeting()||{};0===Object.keys(n).length?setTimeout((()=>{n=window.dvtag&&window.dvtag.getTargeting()||{},t(n)}),200):t(n)})))(e);const{consent:r}=window.dotcom;return e.gdpr=r.gdprApplies?"1":"0",r.gdprApplies&&(e.gdpr_consent=r.string),r.ccpaApplies&&(e.us_privacy=r.string),e.cust_params=encodeURIComponent(te(e.cust_params)),e.description_url=encodeURIComponent(window.top.location.href),e};window.dotcom.ads.adTag=async()=>{let e="https://pubads.g.doubleclick.net/gampad/ads?";const o=await ne();return e=`${e}${te(o)}`,void 0===window.dotcom.consent.gdprApplies&&(1===window.dotcom.consent.native||window.dotcom.userinfo.eea)&&(e=`${e}&rdp=1&npa=1`),e},window.dotcom.ads.audioAdTag=e=>{const o=T("site");if("test"===o)return"https://cmod-eu.live.streamtheworld.com/ondemand/ars?type=preroll&stid=554103";const t={stid:e||"1192093",type:"preroll",maxAds:"2","feed-type":"podcast","content-language":"en","site-url":encodeURIComponent(window.location.href),ttag:"channel:bbccom",dist:"bbccom"};"default"===o&&(t.stid="1192093");const{newKeyValues:n}=window.dotcom.data;n.av_series_id&&(t["series-title"]=n.av_series_id),n.av_episode_id&&(t["episode-title"]=n.av_episode_id);let a=window.localStorage.getItem("lsid");a||(a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const o=Math.floor(16*Math.random());return("x"===e?o:3&o|8).toString(16)})),window.localStorage.setItem("lsid",a)),t.lsid=`app:${a}`;const{consent:i}=window.dotcom;return t.gdpr=i.gdprApplies?"1":"0",i.gdprApplies&&(t.gdpr_consent=i.string),i.ccpaApplies&&(t.us_privacy=i.string),i.gppApplies&&(t.gpp=i.string),`https://cmod-eu.live.streamtheworld.com/ondemand/ars?${te(t)}`}}();