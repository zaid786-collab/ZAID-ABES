undefined
!function(){var e=function(){function e(e,t){var i=e.exec(t);if(i){i.shift();return+i[0]}}function t(){var t=window.embeddedMedia.demi,o=t.ua,r=/ edge\//.test(o),s=/chrome/.test(o)&&!r,l=0,d=/trident/.test(o),c=0,u=/firefox/.test(o),p=0,f=/windows phone/.test(o),m="PlayStation 4"==navigator.platform;s&&(l=e(/chrome\/(\d+)(?:\.(\d*))?(?:\.(\d*))?(?:\.(\d*))?/,o));u&&(p=e(/firefox\/(\d+)(?:\.(\d*))?/,o));r&&(c=e(/edge\/(\d+)(?:\.(\d*))?/,o));var g=function(){var e=/mac/.test(o)&&!/like mac os x/.test(o),t={win:/windows/.test(o)&&!f,mac:e,macsafari:/safari/.test(o)&&e&&!s&&!r&&!f,ios:/like mac os x/.test(o),android:/android/.test(o)&&!r,playbook:/playbook/.test(o),opera:/opera/.test(o),blackberry:/blackberry/.test(o)||/bb10/.test(o),winphone:f,kindleSilk:/silk/.test(o),winwebview:/windows nt 10/.test(o)&&/webview/.test(o),win10arm:/windows nt 10\.[0-9]; arm/.test(o),kaios:/kaios/.test(o),phantomjs:/phantomjs/.test(o)};for(var i in t)t[i]&&(t.name=i);o.match(/webkit\/(\d*)/)&&(t.webkitVersion=parseFloat(RegExp.$1));if(t.macsafari){o.match(/version\/[^\d]*([\d|\.]+\d)/);t.safariVersion=parseFloat(RegExp.$1);o.match(/mac os x 10_([\[0-9)][\[0-9)])/);t.macosVersion=parseInt(RegExp.$1,10)}if(t.ios&&o.match(/os (\d+)/g)){t.ios=parseInt(RegExp.$1,10)||t.ios;o.match(/version\/[^\d]*([\d|\.]+\d)/);t.iosSafariVersion=parseFloat(RegExp.$1)}if(t.android){var n=o.match(/android (\d+(?:[\.\d]*)+)/i);t.androidVersion=n?parseFloat(n[1]):99}return t}(),h={connection:{mobile:t.isMobileNetwork},os:g,hasHlsVodSupport:g.ios||g.macsafari||g.winwebview||g.win10arm||m,hasMseSupport:!!window.MediaSource};h.isMobileDevice=g.ios||g.android||g.blackberry||g.playbook||g.winphone||g.kaios||g.opera;h.isTabletDevice=g.kindleSilk||g.winwebview||g.win10arm||o.match(/ipad/)||o.match(/sm-t/)||o.match(/tablet/);if(h.os.webkitVersion>600&&navigator.maxTouchPoints>0){h.isTabletDevice=!0;h.hasHlsVodSupport=!0}!h.hasMseSupport&&(h.os.macsafari&&h.os.safariVersion>=1||h.os.webkitVersion>600)&&(h.isMobileDevice=!0);if(d&&!g.winphone){h.isMobileDevice=!1;h.isTabletDevice=!1}h.isMobileOrTablet=h.isMobileDevice||h.isTabletDevice;if(h.os.blackberry&&!n){n=!0;o.match(/version\/\d+.(\d+.\d+)/);var y=parseFloat(RegExp.$1);y>3&&i.push("blackberry")}if(h.os.winphone&&0===a){o.match(/windows phone (\d+.\d+)/);a=parseFloat(RegExp.$1);a>=10&&i.push("winphone")}for(var v=0;i.length>v;v++)h.os[i[v]]&&(h.hasHlsVodSupport=!0);h.htmlAudio=h.os.androidVersion>=4.1||h.os.kindleSilk;h.preferHtmlAudio=t.isUK===!1&&h.os.androidVersion>=5;var b=/smart.+tv/.test(o)||/linux; netcast/.test(o);h.supportedFlash=!h.isMobileOrTablet&&!m&&!b;h.IE11=o.indexOf("trident/7.0")>0;h.supportsSvg=h.hasMseSupport&&!h.os.playbook||h.os.ios>=8||h.os.androidVersion>=4.4&&s||h.IE11;h.supportChromecast=s&&window.chrome;h.hybrid=h.hasMseSupport||!document.documentMode||document.documentMode>=11;h.winXP=o.indexOf("nt 5")>0;h.webgl=function(){try{var e=document.createElement("canvas"),t="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return t in e?e[t]("webgl")||e[t]("experimental-webgl"):"WebGLRenderingContext"in window}catch(i){return!1}}();h.support360=!(!h.webgl||g.ios&&11>g.ios||/(trident\/)|(MSIE\s)/i.test(o)&&!r||g.macsafari&&12>g.macosVersion);h.mediasetDesktop=!h.isMobileOrTablet&&(d||/windows nt/.test(o)||/x11/.test(o)||h.os.mac);return h}var i=[],n=!1,a=0;return{get:t}}(),t=function(){function e(e){if(a[e])for(;a[e].length>0;)a[e].pop()()}function t(e){if(2>l.length)return!0;for(var t=0;l.length>t;t++)if(l[t]==e)return!0;return!1}function i(e){if(!e||!/^[\-a-zA-Z]{1,20}$/.test(e))return"en";e=e.toLowerCase();var t={"en-gb":"en","cy-gb":"cy","gd-gb":"gd","ga-gb":"ga","ru-uk":"ru","uz-latn":"uz","uz-cyrl":"uz",zh:"zh-hans",sr:"sr-latn","pt-br":"pt"};return t[e]||e}var n={en:{pgHeader:"Parental Guidance Lock",pgAgeConfirmation:"I am aged 16 or over",pgClose:"Close pop up",pgContinue:"Continue",pgPasswordValidationError:"Please confirm your age before continuing",pgAriaAgeConfirmCheckBox:"Age confirmation check box. Checked.",pgAriaAgeConfirmCheckBoxUnchecked:"Age confirmation check box. Check to confirm you are sixteen or over.",pgTurnOnParentalGuidance:"Turn on the Parental Guidance Lock?",pgInfoPlusDownload:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.<p>To set up your PIN choose \u2018Turn On\u2019. To continue without Parental Guidance choose \u2018Download\u2019.</p>",pgInfoPlusPlay:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.<p>To set up your PIN choose \u2018Turn On\u2019. To continue without Parental Guidance choose \u2018Play\u2019.</p>",pgInfo:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.",pgTurnOn:"Turn On",toolTipPlay:"Play",pgEnterPIN:"Please enter a four-digit PIN",pgActivateInfo:"You will need your PIN to play Guidance-labelled content",pgPINValidationError:"Your PIN must be four digits",pgAriaPINEntryDescription:"PIN entry text field",pgAriaPINPrompt:"Please enter a valid four-digit PIN",pgEnterPINPrompt:"Please enter your four-digit PIN to continue",pgManageYourPIN:"Manage your PIN",pgUnlock:"Unlock",pgIncorrectPIN:"Incorrect PIN. Please try again",newPgTurnOnParentalGuidance:"Turn on Parental Guidance Lock?",newPgTurnOnParentalGuidancePINsection:"Turn on Parental Guidance Lock",newPgTurnOnParentalGuidanceInsertPIN:"Parental Guidance Lock",newPgTurnOn:"Turn on PG Lock",newToolTipPlay:"Play without PG Lock",findOutMore:"Find out more",notSuitableForChildMessage:"This programme may not be suitable for children. Turn on PG Lock and we'll ask you to set up a PIN to control who can watch BBC content with a Guidance label on this browser.",newPgAgeConfirmationUnder16:"I've got permission.",newUnder16WithPermission:"You're signed in as someone who\u2019s under 16. So you need permission from a parent or guardian to play this.",newPgPlay:"Play",newPgEnterPIN:"Please choose a four-digit PIN.",newPgPINvalidationError:"Your PIN must be four digits long.",newPgIncorrectPIN:"Wrong PIN. Please try again.",newPgManageYourPIN:"Manage your lock",newPgEnterPINprompt:"Please enter your four-digit PIN.",newPgActivateInfo:"You'll need this to play any content with a Guidance label.",newPgEnterPINinfo:"This programme has a Guidance label.",newAgeConfirmationTitle:"Guidance",pgUnder16PermissionValidationError:"Please confirm you have permission before continuing",playbackSettingsHeading:"Playback settings",autoplaySettingHeading:"Autoplay",autoplaySettingSubheading:"Play next item automatically",off:"OFF",on:"ON",pgDownload:"Download",pgActivate:"Activate",unableToEmbed:"Unable to embed player",errorUnsupported:"Your device is not currently supported",initialiseFailed:"Player failed to initialise",contentNotAvailableOnDevice:"This content is not currently available on this device.",defaultErrorMessage:"This content doesn't seem to be working.",flashNotAvailable:"This player no longer works properly on your device. You'll need to update your browser or device to continue.",deprecationMessageLongLink:"Find out how to keep watching and listening",embedTitle:"Embed This Media",embedDescription:"Copy the code below to share this content on your own site. Press escape to close",embedTerms:"Terms and conditions",embedClose:"Close",aaampPlay:"click to play",screenreaderDefaultIframeTitle:"Media Player"}},a={},o={},r={},s=5e3,l="cy,gd,ga,fr,ar,az,ha,hi,id,ky,es,so,sw,tr,ur,fa,ru,uk,vi,si,rw,ps,ne,my,zh-hans,zh-hant,uz,tg,pt,ta,bn,ja,pi,am,gu,ko,mr,om,pa,pcm,te,th,ti,yo,ig,sr-cyrl,sr-latn,pl".split(","),d={getCode:i,add:function(t,i){clearTimeout(r[t]);n[t]=i;e(t)},load:function(l,d){l=i(l);if(!n[l]&&t(l)){if(d){a[l]||(a[l]=[]);a[l].push(d)}if(!o[l]){o[l]=!0;var c=document.createElement("script");c.type="text/javascript";c.charset="utf-8";c.async=!0;c.src="https://emp.bbci.co.uk/emp/translations/1.1.0/language."+l+".js";document.getElementsByTagName("head")[0].appendChild(c);clearTimeout(r[l]);r[l]=setTimeout(function(){e(l)},s)}}else d&&d()},t:function(e,t){t=i(t);return n[t]&&n[t][e]?n[t][e]:n.en[e]||e},getList:function(e){return n[e]},screenreaderAlert:function(e){var t=document.createElement("div"),i=document.createElement("p");i.textContent=i.innerText=e;t.setAttribute("role","alert");t.setAttribute("style","width: 1px; position: absolute; left: -2500px; overflow: hidden;");document.body.appendChild(t);t.style.display="none";t.style.display="block";setTimeout(function(){document.body.removeChild(t)},2500)}};return d}(),i=function(){function e(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function n(e,t){t||(t=1);var i="position:relative;z-index:"+t+";height:100%;width:100%;";i+="padding-bottom:"+(e.superResponsive?"56.25%":"0");var n=document.createElement("div");n.setAttribute("style",i);return n}function a(e,t){for(var i in e)e.hasOwnProperty(i)&&t(i,e[i])}function o(e,t,i,n){i||(i=s);var a,r,l={};if(e)for(a in t)if(t.hasOwnProperty(a)&&(!n||!n[a])){r=t[a];a in e&&(e[a]===r||a in l&&l[a]===r)||(e[a]="object"==typeof e[a]&&null!==e[a]?o(e[a],r,i):i(r))}return e}function r(){var e=s(arguments[0]);if(e)for(var t=1;arguments.length>t;t++)arguments[t]&&(e=o(e,arguments[t],s));return e}function s(e,t){if(!e||"object"!=typeof e||e instanceof Date||e.nodeType||e.window==e)return e;var i,n,a;if(e instanceof Array||Array.isArray&&Array.isArray(e)){i=[];for(n=0,a=e.length;a>n;++n)n in e&&i.push(s(e[n]))}else i={};return o(i,e,s,t)}function l(){var e=document.createElement("video");return!(!e||!e.canPlayType)}function d(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",e);for(var n in t)t.hasOwnProperty(n)&&i.setAttributeNS(null,n,t[n]);return i}function c(e,t,i){i=!!i;window.PointerEvent?e.addEventListener("pointermove",function(e){"mouse"==e.pointerType&&t(e)},i):e.addEventListener("mousemove",t,i)}function u(e,t,i){i=!!i;window.PointerEvent?e.addEventListener("pointerleave",function(e){"mouse"==e.pointerType&&t(e)},i):e.addEventListener("mouseleave",t,i)}function p(e,t,i){i=!!i;var n;if(window.PointerEvent)e.addEventListener("pointerdown",t,i);else{n=function(i){t(i);e.focus();i.preventDefault()};e.addEventListener("touchstart",n,i);e.addEventListener("mousedown",t,i)}return n}function f(e,t,i,n){n=!!n;if(window.PointerEvent)e.removeEventListener("pointerdown",t,n);else{e.removeEventListener("touchstart",i,n);e.removeEventListener("mousedown",t,n)}}function m(e,t,i){i=!!i;if(window.PointerEvent)e.addEventListener("pointerup",t,i);else{e.addEventListener("touchend",t,i);e.addEventListener("mouseup",t,i)}}function g(e,t,i){i=!!i;if(window.PointerEvent)e.removeEventListener("pointerup",t,i);else{e.removeEventListener("touchend",t,i);e.removeEventListener("mouseup",t,i)}}function h(e,t){var i=e+" "+t;i=i.trim().replace(/\s+/g,"\\b|\\b");return new RegExp("\\b"+i+"\\b","g")}function y(e,t){return e&&(e.className+"").indexOf(t)>-1}function v(e,t,i){if(e){var n=e.className;if(""!==n){n=n.replace(h(i||"",t),"").trim()+" "+t;e.className=n.trim().replace(/\s+/g," ")}else e.className=t}}function b(e,t,i,n){for(var a="object"==typeof t?t:t.split(/\s+/g),o=0;a.length>o;o++)e.addEventListener(a[o],i,n)}function w(e){var t=!1,i=function(){t=!1};return function(n){if(!t){e(n);t=!0;setTimeout(i,500)}}}function P(e){var t=e.getBoundingClientRect(),i=window.scrollX||window.pageXOffset,n=window.scrollY||window.pageYOffset;return{top:t.top+n,left:t.left+i}}function _(){var e=document.getElementById("bump_stylesheet");if(!e){var t=document.getElementsByTagName("head")[0];e=document.createElement("link");e.id="bump_stylesheet";e.rel="stylesheet";e.href="https://emp.bbci.co.uk/emp/assets/2.1.0/bump-4.css";t.appendChild(e)}return e.sheet}function C(){var e=document.getElementById("bump_dynamic_stylesheet");if(!e){var t=document.getElementsByTagName("head")[0];e=document.createElement("style");e.id="bump_dynamic_stylesheet";t.appendChild(e)}return e.sheet}function k(e,t){for(var i=e.cssRules.length-1;i>=0;i--)for(var n=e.cssRules[i].cssText,a=0;t.length>a;a++)if(n.indexOf(t[a])!=-1){e.deleteRule(i);break}}function E(){function e(){clearTimeout(l);c=!0;for(var e=document.querySelectorAll(".p_bumpUI"),n=0;e.length>n;n++)i.className(e[n],"","nonPointerFocus");f=!1;l=setTimeout(t,250)}function t(){c=!1}function n(){if(!p&&!c&&!u&!f){for(var e=document.querySelectorAll(".p_bumpUI"),t=0;e.length>t;t++)i.className(e[t],"nonPointerFocus");f=!0}}function a(){clearTimeout(d);u=!0;d=setTimeout(function(){u=!1},250)}function o(){if(!m){if(window.PointerEvent)document.addEventListener("pointerdown",e,!0);else{document.addEventListener("touchstart",e,!0);document.addEventListener("mousedown",e,!0)}window.addEventListener("focus",a);document.addEventListener("focus",n,!0);m=!0}}function r(){if(window.PointerEvent)document.removeEventListener("pointerdown",e,!0);else{document.removeEventListener("touchstart",e,!0);document.removeEventListener("mousedown",e,!0)}window.removeEventListener("focus",a);document.removeEventListener("focus",n,!0);m=!1}function s(){p=!0;setTimeout(function(){p=!1},100)}var l,d,c=!1,u=!1,p=!1,f=!1,m=!1;return{addNonPointerFocusListeners:o,removeNonPointerFocusListeners:r,setMovingFocus:s,hasNonPointerFocus:function(){return f}}}return{nonPointerFocusListeners:E(),hasClass:y,throttleFn:w,multiAddEventListener:b,className:v,hoverMoveAction:c,hoverLeaveAction:u,downAction:p,removeDownAction:f,upAction:m,removeUpAction:g,createSVGElement:d,isObjectEmpty:e,mixin:o,clone:s,hasVideo:l(),getWrapper:n,merge:r,each:a,pageOffset:P,getBumpStylesheet:_,getDynamicStylesheet:C,deleteCssRulesContaining:k,addEmbeddedMedia:function(){if(window.embeddedMedia){window.embeddedMedia.playerInstances||(window.embeddedMedia.playerInstances={});window.embeddedMedia.players||(window.embeddedMedia.players=[]);isNaN(window.embeddedMedia.playerInits)&&(window.embeddedMedia.playerInits=0)}else window.embeddedMedia={players:[],playerInstances:{},playerInits:0};var e=window.embeddedMedia;if(!e.openCallbacks){e.openCallbacks=[];e.closedCallbacks=[];e.opened=function(t){for(var i=0;e.openCallbacks.length>i;i++)e.openCallbacks[i](t)};e.closed=function(t){for(var i=0;e.closedCallbacks.length>i;i++)e.closedCallbacks[i](t)}}e.addPlayer||(e.addPlayer=function(t,i){e.playerInstances[t]=i;e.players.push(i)});e.distributeConfigToPlayers||(e.distributeConfigToPlayers=function(t,i,n){var a=e.api.players();for(var o in a)o!=n&&a.hasOwnProperty(o)&&a[o].distributedConfig(t,i)});e.processConfigFromPlayer||(e.processConfigFromPlayer=function(t,i,n){var a=e.api.players()[n];a._settings.set("ui"==i?{ui:t}:t);e.distributeConfigToPlayers(t,i,n)});e.language||(e.language=t);if(!e.demi){e.demi={callbacks:[],ua:window.navigator.userAgent.toLowerCase()};if(window.orb&&window.orb.fig){var i=window.orb.fig,n=i.geo;n&&n.isUK&&(e.demi.isUK=1===n.isUK())}if(window.bbcuser&&window.bbcuser.isUKCombined){var a=window.bbcuser.isUKCombined();a.then&&a.then(function(t){e.demi.isUK=t})}var o="unknown",r=window.navigator.connection;if(r){var s=r.effectiveType;o=s?"4g"!=s?"cellular":"":r.type;e.demi.isMobileNetwork="cellular"===o}e.demiHelper={determineConnectionType:function(){}}}e.chromeCast||(e.chromeCast={castInterface:!1});e.sendEventToPlayers||(e.sendEventToPlayers=function(t,i,n){var a=e.players;a.forEach(function(e){e!==n&&e.call(t,i)})});return e}}}(),n=function(){function t(e,t){if(e)for(var i=0;e.length>i;i++){var n=e[i];if(n){var a=n.kind;if("radioProgramme"==a||"audio"==a||!t&&("programme"==a||"video"==a||"trailer"==a||"360"==a||void 0===a||null===a||""===a))return n}}return null}var n={mediasets:{desktop:"pc",cellular:"mobile-cellular-main",mobile:"mobile-phone-main",tablet:"mobile-tablet-main"},findProgramme:t,firstProgramme:function(e,i){return t(e&&e.items,i)},mediationUrls:function(e,t){var i="ediatorHref",a=n.mediaSet(t);e["samlM"+i]=e["m"+i]=n.mediatorHref(t,a);if(t.mediator&&t.mediator.host){e.mediator=e.mediator||{};e.mediator.host=t.mediator.host}return a},mediaSet:function(t){if(t.mediator&&t.mediator.overrideMediaSet)return t.mediator.overrideMediaSet;if("background"==t.product)return"mobile-tablet-main";var n=i.addEmbeddedMedia(),a=t.mediasets=this.mediasets,o=e.get();return o.mediasetDesktop?a.desktop:n.demi.isMobileNetwork?a.cellular:o.isTabletDevice?a.tablet:a.mobile},mediatorHref:function(e,t){var n={href:"https://{host}/mediaselector/6/select/version/2.0/mediaset/{mediaset}/vpid/{id}/format/json/jsfunc/{callback}",host:"open.live.bbc.co.uk",mediaset:t},a=parseFloat("0.5");if(a>=0&&1>a){var o=Math.random()<a;o&&(e._inExperiment=!0)}i.mixin(n,e.mediator);var r=n.href;i.each(n,function(e,t){r=r.replace("{"+e+"}",t)});return r}};return n}(),a=function(){function e(e){e&&e.getFullYear||(e=new Date);var t=Math.floor(1.25*e.getFullYear()),i=e.valueOf(),n=new Date(i);n.setMonth(2);n.setDate(31-(t+4)%7);n.setUTCHours(1);n.setUTCMinutes(0);n.setUTCSeconds(0);var a=new Date(i);a.setMonth(9);a.setDate(31-(t+1)%7);a.setUTCHours(1);a.setUTCMinutes(0);a.setUTCSeconds(0);return e>n&&a>e}function t(e,t,n){if("set"!=t&&"locale"!=t&&"playingAudio"!=t&&"posterUrl"!=t)if("playlistObject"==t||"today"==t)e[t]=n;else{var a="object"==typeof n;a?e[t]="object"==typeof d[t]?i.merge(e[t],n):n:"object"!=typeof e[t]&&(e[t]=n)}}function a(e,t,i){var n,a=i&&i.availableWidths&&"string"==typeof i.availableWidths?i.availableWidths:!1,o=a?a.split(","):c;if(e&&p.test(e)){var r=0;t&&t.width&&(r=t.width());(0===r||isNaN(r))&&(r=768);i&&i.densityMultiplier&&(r*=i.densityMultiplier);for(var s=o.length-1;s>0&&!(r/o[s]>.98);s--);var l=c[s]+"x"+u[s];n=a?o[s]:1024>=o[s]?o[s]:1536;return e.replace(/[\${]recipe}?/,l).replace(/[\${]width}?/,n)}}function o(e,t,i){var n=e.orientation.charAt(0),a=0;t&&t.width&&(a=t.width());(0===a||isNaN(a))&&(a=768);i&&i.densityMultiplier&&(a*=i.densityMultiplier);var o=[];for(var r in f)f.hasOwnProperty(r)&&o.push(Number(r));for(var s=o.length-1;s>0&&!(a/o[s]>.98);s--);var l="p"==n?"n":f[o[s]][n],d=o[s]+"x"+l;return e.url.replace(/[\${]recipe}?/,d)}var r={iplayer:{guidanceCleared:!1,siteID:"iPlayer",defaultUiClass:"iplayer",ui:{guidance:{displayContinuousGuidanceInQueuePlaylist:!1}}},news:{ui:{colour:"#bb1919",alternateColour:"#bb1919",cta:{mode:"duration"}},preferPlainOverDash:!0,guidanceCleared:!0,siteID:"News",defaultUiClass:"news"},sport:{ui:{colour:"#eed71c",foreColour:"#000000",alternateColour:"#0087ff",alternateForeColour:"#ffffff",accessibility:{enhanceBrightColoursContrast:!0}},siteID:"Sport",defaultUiClass:"sport",guidanceCleared:!0},background:{muted:!0,autoplay:!0},generic:{ui:{colour:"#0071F1",foreColour:"#FFFFFF"},guidanceCleared:!0}},s="true"=="true",l={locale:{lang:"en",path:"https://emp.bbci.co.uk/emp/translations/1.1.0/{lang}.xml"},subtitles:{supportLiveSubtitles:!0},thumbnail:{enabled:!0},colour:"#ff4c98",foreColour:"#ffffff",alternateColour:"#f54997",alternateForeColour:"#ffffff",guidance:{pgColour:"#ff4c98",pgSeparatorColour:"#252833",pgBackgroundColour:"#0c101c"},cta:{direction:null},playbackSettingsPanel:{enabled:!1,continuousPlaySetting:!1,overlayColour:"rgba(48,48,48,0.6)"},poster:{availableWidths:""}},d={playlist:"",startTime:0,volume:.7,overrideHoldingImage:"",product:"iplayer",today:new Date,guidance:{},mediator:{},experimentalDashPercentage:parseFloat("0"),includeAppClickHandler:!0,plugins:{toLoad:[]},quality:"hd",uiClass:"",enableStatsReporting:!0,autoplay:!1,preload:"",enableRdotReporting:!0,enableSonarReporting:!0,enableAtiReporting:!0,statsObject:{},embedPageURL:location.href,forceGuidance:"",appName:"",appType:"",counterName:"smp.player.page",siteID:"",significantTime:10,playerType:"",namedPlugins:{"dfpAds.js":"//emp.bbci.co.uk/plugins/dfpAdsHTML/5.9.1/js/dfpAds.js","continuousPlay.js":"//emp.bbci.co.uk/plugins/onwardJourneyHTML/2.8.1/js/onwardJourney.js","preview.js":"//emp.bbci.co.uk/plugins/preview/1.1.0/js/preview.js","onwardJourney.js":"//emp.bbci.co.uk/plugins/onwardJourneyHTML/2.8.1/js/onwardJourney.js","smp-ads-plugin-toucan.js":"//emp.bbci.co.uk/plugins/toucanAds/1.9.3/smp-ads-plugin-toucan.js","OnwardJourneyToucan.js":"//emp.bbci.co.uk/plugins/toucanOj/1.5.10/live/OnwardJourneyToucan.js","audioSegments.js":"//emp.bbci.co.uk/plugins/adhoc/0.3/Segments.js","smp-subs-config-plugin.js":"//emp.bbci.co.uk/plugins/subsConfig/0.4.1/smp-subs-config-plugin.js"},pluginUpgrades:{toucan:{"//emp.bbci.co.uk/plugins/dfpAdsHTML/5.9.1/js/dfpAds.js":{url:"//emp.bbci.co.uk/plugins/toucanAds/1.9.3/smp-ads-plugin-toucan.js",module:!0},"//emp.bbci.co.uk/plugins/onwardJourneyHTML/2.8.1/js/onwardJourney.js":{url:"//emp.bbci.co.uk/plugins/toucanOj/1.5.10/live/OnwardJourneyToucan.js",module:!0}}},suppressType:[],suppressItemKind:[],responsive:!0,ui:{},webcastData:{},liveEnvironment:s,over16:!1,under16:!1,backgroundSettings:{},threeSixty:!1,disablePreload:!1,embeddedOffsite:!1,androidReceiverCompatible:!1},c=[320,384,432,480,512,608,640,688,720,768,800,832,976,1024,1376,1920],u=[180,216,243,270,288,342,360,387,405,432,450,468,549,576,774,1080],p=new RegExp("^//|^http[s]{0,1}://","i"),f={192:{l:"108",s:"192",p:"288"},224:{l:"126",s:"224",p:"336"},256:{l:"144",s:"256",p:"384"},320:{l:"180",s:"320",p:"480"},368:{l:"207",s:"368",p:"552"},416:{l:"234",s:"416",p:"624"},480:{l:"270",s:"480",p:"720"},512:{l:"288",s:"512",p:"768"},608:{l:"342",s:"608",p:"912"},640:{l:"360",s:"640",p:"960"},688:{l:"387",s:"688"},720:{l:"405",s:"720"},768:{l:"432",s:"768"},800:{l:"450",s:"800"},832:{l:"468",s:"832"},976:{l:"549",s:"976"},1376:{s:"1376",l:"774"},1920:{l:"1080",s:"1920"}},m=function(e){this.SettingsChangedListeners=[];return this.init(e)};m.prototype={set:function(i,n){var a=this,o=a.locale();if("object"==typeof i)for(var r in i)i.hasOwnProperty(r)&&t(a,r,i[r]);o!=a.locale()&&window.embeddedMedia.language.load(a.locale());for(r in a.webcastData)if(a.webcastData.hasOwnProperty(r)){var s=a.webcastData[r];"[object Date]"===Object.prototype.toString.call(s)&&(a.webcastData[r]=s.getTime()/1e3)}a.isBSTime=e(a.today);this.fireSettingsChangedListeners();if(!n&&"continuousPlay"in i){var l={continuousPlay:a.continuousPlay};window.embeddedMedia.distributeConfigToPlayers(l,"",a.domid)}return a},fireSettingsChangedListeners:function(){for(var e=0;this.SettingsChangedListeners.length>e;e++)this.SettingsChangedListeners[e](this)},addSettingsChangedListener:function(e){this.SettingsChangedListeners.push(e)},init:function(e){var n=this,a=i.clone(d);for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o]);"object"!=typeof e&&(e={});var s=e.product||d.product,c=r[s]||r.generic;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];t(n,o,u)}n.ui=i.merge(i.clone(l),c.ui);var p=window.navigator.connection;p&&n&&n.saveData!==!1&&(n.saveData=p.saveData?!0:!1);var f="";try{f=document.cookie+""}catch(m){}if(!e.allowTracking){for(var g=!1,h=["bbc.co.uk","bbc.com","britbox.com","bbcconnectedstudio.co.uk"],y=0;h.length>y;y++)location.host.indexOf(h[y])!==-1&&(g=!0);g||(n.noTracking=!0)}f.match(/NO-SA=1/)&&(n.noTracking=!0);f.match(/html5Debug=true/)&&(n.html5Debug=!0);if(e.enableToucan!==!1){var v=(""+e.counterName).split(".")[0];("weather"==v||"food"==v)&&(n.enableToucan=!0)}e.skipInterval&&(e.ui?e.ui.skipInterval||(e.ui.skipInterval=e.skipInterval):e.ui={skipInterval:e.skipInterval});return n.set(e)},locale:function(){return this.ui.locale.lang},playingAudio:function(){var e=this;if(e.willPlayAudio)return!0;var t=n.firstProgramme(e.playlistObject);return t?"radioProgramme"==t.kind||"audio"==t.kind:!0},posterUrl:function(e){if(!this._poster&&this.playlistObject&&this.playlistObject.holdingImage){var t=this.playlistObject.holdingImage;if(t.url&&t.orientation)return o(t,e,this.ui.poster)}var i=this._poster||this.playlistObject&&this.playlistObject.holdingImageURL||this.overrideHoldingImage;return a(i,e,this.ui.poster)}};return m}(),o=function(){function e(e,i,n,a,o,r){var s=e._toggleSetting=document.createElement("div");i&&(s.id=i);s.className=n?"p_toggle_setting "+n:"p_toggle_setting";s.setAttribute("role","checkbox");s.setAttribute("aria-checked","false");a&&s.setAttribute("aria-label",a);s.tabIndex=0;var l=document.createElement("div");l.className="p_toggleText";var d=document.createElement("div");d.className="p_toggleHeading";d.textContent=o;var c=document.createElement("div");c.className="p_toggleSubheading";c.textContent=r;var u=document.createElement("div");u.className="p_toggleSlot";var p=document.createElement("div");p.className="p_toggleSlider";var f=document.createElement("div");f.className="p_toggleTick";l.appendChild(d);l.appendChild(c);s.appendChild(l);p.appendChild(f);u.appendChild(p);s.appendChild(u);t(e,s);return s}function t(e,t){t.addEventListener("click",function(){e.disabled||e.flip("click")});t.addEventListener("keydown",function(t){if(!e.disabled){var i=t.keyCode;(32==i||13==i)&&e.flip("keydown")}})}function n(e,t,i){for(var n=0;e.changeListeners.length>n;n++)e.changeListeners[n](t,i)}function a(e){var t=e.settings.ui.colour;i.deleteCssRulesContaining(e.stylesheet,["#"+e.id]);e.stylesheet.insertRule("#"+e.id+".p_toggleOn .p_toggleSlot { background-color: "+t+"; border-color: "+t+"; }",e.stylesheet.cssRules.length);e.stylesheet.insertRule("#"+e.id+" .p_toggleSlider .p_toggleTick { border-color: "+t+"; }",e.stylesheet.cssRules.length);e.stylesheet.insertRule(".nonPointerFocus #"+e.id+":focus { box-shadow: "+t+" 0px 0px 0px 3px inset; }",e.stylesheet.cssRules.length);("#FFFFFF"==t||"#ffffff"==t)&&e.stylesheet.insertRule(".p_toggleOn .p_toggleSlider { background-color: #000000; }",e.stylesheet.cssRules.length)}var o=function(t,n,o,r,s,l,d){var c=this;this.id=n;this.settings=t;this.locale=d;this.changeListeners=[];this.disabled=!1;this._on=!1;e(this,n,o,r,s,l);this.stylesheet=i.getDynamicStylesheet();this.settings.addSettingsChangedListener(function(){a(c)});a(c)};o.prototype={getDomNodes:function(){return[this._toggleSetting]},flip:function(e){"true"==this._toggleSetting.getAttribute("aria-checked")?n(this,"turningOff",e):n(this,"turningOn",e)},setOn:function(){this._toggleSetting.setAttribute("aria-checked","true");i.className(this._toggleSetting,"p_toggleOn");this._on=!0},setOff:function(){this._toggleSetting.setAttribute("aria-checked","false");i.className(this._toggleSetting,"","p_toggleOn");this._on=!1},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},attachChangeListener:function(e){this.changeListeners.push(e)},updateLanguage:function(){}};return o}(),r=function(){function e(e){this._settings=e;var t=this;window.__onGCastApiAvailable=function(e){e&&t._init()};var i=document.createElement("script");i.async=!0;i.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";document.getElementsByTagName("head")[0].appendChild(i);this.sendCastIconState=this.sendCastIconState.bind(this)}e.prototype={_getAppId:function(){var e="1F306A22";this._settings.forceCastReceiver?e=this._settings.forceCastReceiver:"iplayer"==this._settings.product?e="2BA92214":"sport"==this._settings.product?e="15983BD8":"sounds"==this._settings.product&&(e="D350F6A9");return e},_isAndroidReceiverCompatible:function(){return!!this._settings.androidReceiverCompatible},_init:function(){this._castContext=cast.framework.CastContext.getInstance();this._castContext.setOptions({receiverApplicationId:this._getAppId(),androidReceiverCompatible:this._isAndroidReceiverCompatible(),autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED});this._castContext.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.sendCastIconState);this.sendCastIconState();this._addRemotePlayerListeners();this.initialised=!0},_addRemotePlayerListeners:function(){var e=this;this._remotePlayer=new cast.framework.RemotePlayer;this._remotePlayerController=new cast.framework.RemotePlayerController(this._remotePlayer);this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,function(){e._remotePlayer.isConnected?e._connected():e._disconnected()});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,function(t){e.sendToLoadedPlayer({event:"timechange",time:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED,function(t){e.sendToLoadedPlayer({event:"durationchanged",duration:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,function(t){e.sendToLoadedPlayer({event:"ispausedchanged",ispaused:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.LIVE_SEEKABLE_RANGE_CHANGED,function(){});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED,function(t){e.sendToLoadedPlayer({event:"ismedialoadedchanged",ismedialoaded:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,function(t){e.sendToLoadedPlayer({event:"mutedchanged",muted:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,function(t){e.sendToLoadedPlayer({event:"volumechanged",volume:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,function(t){var i;switch(t.value){case chrome.cast.media.PlayerState.IDLE:i="IDLE";break;case chrome.cast.media.PlayerState.PLAYING:i="PLAYING";break;case chrome.cast.media.PlayerState.PAUSED:i="PAUSED";break;case chrome.cast.media.PlayerState.BUFFERING:i="BUFFERING"}e.sendToLoadedPlayer({event:"playerstatechanged",state:i})})},_connected:function(){var e=this;this._castSession=this._castContext.getCurrentSession();if(this._requestPlayer){this.loadMedia(this._requestPlayer);this._requestPlayer=null}this._castSession.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,function(){if(!e.loading){e._loadedPlayer=null;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"notCasting",state:e.translateCastState(e._castContext.getCastState())})}});this._castSession.addMessageListener("urn:x-cast:uk.co.bbc.general",function(t,i){var n=JSON.parse(i);switch(n.type){case"subtitlesPreference":e.sendToLoadedPlayer({event:"subson",on:!!n.value})}})},_disconnected:function(){this._castSession=null;this._requestPlayer=null;this._loadedPlayer=null;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"disconnect"})},sendToLoadedPlayer:function(e){this._loadedPlayer&&this._loadedPlayer.call("ccInfo",e)},sendToRequestPlayer:function(e){this._requestPlayer&&this._requestPlayer.call("ccInfo",e)},isConnected:function(){return!!this._castSession},requestSession:function(){var e=this,t=this._castContext.requestSession();t.then(function(){},function(){e.sendToRequestPlayer({event:"requestfailed"})})},hasSubs:function(e){if(e&&e.tracks)for(var t=0;e.tracks.length>t;t++)if(e.tracks[t].type==chrome.cast.media.TrackType.TEXT)return!0;return!1},loadMedia:function(e){var t=this,i=e.mediaItem(),n=e.loadedPlaylist();this.loading=!0;if(this.isConnected()){var a=new chrome.cast.media.MediaInfo(i.identifier),o=new chrome.cast.media.GenericMediaMetadata;o.title=n.title?n.title:"";o.subtitle=n.summary?n.summary:"";if(n.posterImg){var r=new chrome.cast.Image(n.posterImg.replace("{recipe}","1280x720").replace("$recipe","1280x720"));r.width=1280;r.height=720;o.images=[r]}a.metadata=o;a.customData={secondary_title:n.summary?n.summary:""};i.castConnectUrl&&(a.customData.connect=i.castConnectUrl);e._settings.counterName&&(a.customData.counterName=e._settings.counterName);a.streamType=i.isLive?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED;var s=new chrome.cast.media.LoadRequest(a);s.currentTime=e.currentTime();this._castSession.loadMedia(s).then(function(){t.loading=!1;t._loadedPlayer=e;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"notCasting",state:t.translateCastState(t._castContext.getCastState())},t._loadedPlayer);t._loadedPlayer.call("ccInfo",{event:"loadedMedia",duration:t._remotePlayer.duration,currentTime:t._remotePlayer.currentTime,isPaused:t._remotePlayer.isPaused,hasSubs:t.hasSubs(t._remotePlayer.mediaInfo)});var i=t._castSession.getMediaSession();i.addUpdateListener(function(){i.idleReason==chrome.cast.media.IdleReason.FINISHED&&t.sendToLoadedPlayer({event:"ended"})})},function(){t.loading=!1})}else{this._requestPlayer=e;this.requestSession()}},pause:function(){this._remotePlayerController.playOrPause()},play:function(){this._remotePlayerController.playOrPause()},seek:function(e){this._remotePlayer.currentTime=e;this._remotePlayerController.seek()
},translateCastState:function(e){var t={};t[cast.framework.CastState.NO_DEVICES_AVAILABLE]="no_devices";t[cast.framework.CastState.NOT_CONNECTED]="not_connected";t[cast.framework.CastState.CONNECTING]="connecting";t[cast.framework.CastState.CONNECTED]="connected";return t[e]},sendCastIconState:function(){var e=this._castContext.getCastState(),t=this._castContext.getCurrentSession(),i=t&&t.getCastDevice()?t.getCastDevice().friendlyName:null;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"CASTSTATE",value:this.translateCastState(e),deviceName:i})},subtitlesOn:function(){if(this._castSession){var e=new chrome.cast.media.EditTracksInfoRequest;e.enableTextTracks=!0;this._castSession.getMediaSession().editTracksInfo(e,function(){},function(){})}},subtitlesOff:function(){if(this._castSession){var e=new chrome.cast.media.EditTracksInfoRequest;e.enableTextTracks=!1;this._castSession.getMediaSession().editTracksInfo(e,function(){},function(){})}},setVolume:function(e){this._castSession&&this._castSession.setVolume(e)},setMuted:function(e){this._castSession&&this._castSession.setMute(e)}};return e}(),s={show:function(e){s._embedBox&&s.close(!0);var t=e._settings,i=t.locale(),a=encodeURIComponent(t.product),o=encodeURIComponent(e.playlist.title),r=t.externalEmbedUrl||"";if(r){r.indexOf("{cpid}")!=-1&&e._statsObject.clipPID&&(r=r.replace("{cpid}",e._statsObject.clipPID));if(r.indexOf("{vpid}")!=-1){var l=n.firstProgramme(e.playlist);l&&(r=r.replace("{vpid}",l.identifier))}r=r.replace("{lang}",i)}else{if(e.playlist.url)var d=e.playlist.url;else t.playlistObject&&(d=t.playlistObject.legacyPlaylist);if(d){r="https://emp.bbc.co.uk/emp/embed/smpEmbed.html?playlist="+encodeURIComponent(d)+"&title="+o+"&product="+a;"en"!=i&&(r+="&lang="+i)}}if(r){var c=!t.ui.disableReithFonts;window.embeddedMedia.opened();var u="width: 100%;"+"height: 100%;"+"margin: 0;"+"position: fixed;"+"z-index: 10000;"+"top: 0;"+"left: 0;"+"background-color: #000;"+"opacity: 0.5;";s._background=document.createElement("div");s._background.id="embedBackground";s._background.style.cssText=u;s._embedBox=document.createElement("div");s._embedBox.id="embedBox";s._embedBox.setAttribute("role","alertdialog");s._embedBox.setAttribute("aria-labelledby","embedMediaTitle");s._embedBox.setAttribute("aria-describedby","embedMediaDescription");var p="position: fixed;"+"width: 400px;"+"max-width: 90%;"+"height: 160px;"+"bottom: 0;"+"left: 0;"+"top: 0;"+"right: 0;"+"margin: auto;"+"color: white;"+"font-size: 22px;"+"z-index: 10001;"+"background-color: #262626;";document.documentElement.className.indexOf("b-reith-sans-font")>=0&&c?s._embedBox.className="font-family-sans":p+="font-family: helvetica, Arial, sans-serif;";s._embedBox.style.cssText=p;var f=window.embeddedMedia.language,m=f.t("embedTitle",i),g=f.t("embedDescription",i),h=f.t("embedTerms",i),y=f.t("embedClose",i),v=document.createElement("span");v.id="embedMediaTitle";v.style.cssText="position: absolute;"+"left: 0;"+"margin-left: 10%;"+"margin-top: 6%";v.textContent=m;s._embedBox.appendChild(v);var b=document.createElement("span");b.id="embedMediaDescription";b.style.cssText="display: none";b.setAttribute("aria-hidden","true");b.textContent=g;s._embedBox.appendChild(b);var w="position: absolute;"+"width: 80%;"+"height: 30px;"+"top: 50%;"+"left: 0;"+"margin-top: -15px;"+"margin-left: 10%;"+"font-size: 14px;"+"color: #848484;",P='<iframe width="400" height="500" frameborder="0" src="'+r+'"></iframe>';t.externalEmbedCode&&(P=(t.externalEmbedCode+"").replace("{url}",r));var _=document.createElement("input");_.id="embedText";_.type="text";_.value=P;_.style.cssText=w;_.addEventListener("click",function(){_.select()});setTimeout(function(){_.focus()},100);s._embedBox.appendChild(_);var C="position: absolute;"+"bottom: 0;"+"left: 0;"+"margin-bottom: 6%;"+"margin-left: 10%;"+"font-size: 0.6em;"+"color: #ffffff;"+"text-decoration: none;",k=document.createElement("a");k.target="_blank";k.href="https://www.bbc.co.uk/usingthebbc/terms-of-use/";k.textContent=h;k.style.cssText=C;s._embedBox.appendChild(k);var E="position: absolute;"+"right: 0px;"+"font-size: 0.8em;"+"top: 0px;"+"margin-top: 10px;"+"margin-right: 10px;"+"color: #ffffff;"+"text-decoration: none;"+"cursor: pointer;",x=document.createElement("a");x.setAttribute("aria-label",y);x.href="#";x.textContent="x";x.style.cssText=E;s._embedBox.appendChild(x);x.addEventListener("click",function(e){e.preventDefault();s.close()});s._tabList=[_,k,x];s._currentTab=0;for(var S=function(e){var t=e.keyCode||e.which;switch(t){case 27:e.preventDefault();s.close();break;case 9:e.preventDefault();var i=s._tabList.length-1;s._currentTab=e.shiftKey?0===s._currentTab?i:s._currentTab-1:s._currentTab===i?0:s._currentTab+1;setTimeout(function(){s._tabList[s._currentTab].focus()},200)}},I=0;s._tabList.length>I;I++)s._tabList[I].addEventListener("keydown",S);document.body.appendChild(s._background);document.body.appendChild(s._embedBox)}},close:function(e){var t=this;e||window.embeddedMedia.closed();if(t._background){t._background.parentNode.removeChild(t._background);t._background=void 0}if(t._embedBox){t._embedBox.parentNode.removeChild(t._embedBox);t._embedBox=void 0}}},l=function(){function e(){this.includePoster=!0;this._volume=1;return this}e.prototype={name:function(){return this._name},uiDefaults:function(e){var t=this._settings,i=t.ui;i.guidance||(i.guidance={});t.guidanceCleared||i.guidance.pinRequired!==!1&&(i.guidance.pinRequired=!0);if(e.isMobileOrTablet){i.controls||(i.controls={muteButtonOnly:!0});i.controls.popout=!1;void 0===i.controls.muteButtonOnly&&(i.controls.muteButtonOnly=!0);t.volume=1}if(1!=window.devicePixelRatio&&!e.connection.mobile&&!t.lowBandwidth){i.poster||(i.poster={});i.poster.densityMultiplier||(i.poster.densityMultiplier=t.saveData?.8:window.devicePixelRatio)}e.supportsSvg&&i.useHighResIcons!==!1&&(i.useHighResIcons=!0);var n="";n=window.getComputedStyle&&this._settings.container?window.getComputedStyle(this._settings.container).direction:this._settings.container.currentStyle.direction;i.cta&&null===i.cta.direction&&(i.cta.direction="rtl"==n?"rtl":"ltr");var a=!1;try{var o=/[; ]ck[pn]s_smpSettings=([^\s;]*)/gim;o.test(" "+document.cookie);if(RegExp.$1){var r=JSON.parse(decodeURIComponent(RegExp.$1));i.allowAudioControlsToHide|=r.allowAudioControlsToHide;if(r.controls){i.controls||(i.controls={});i.controls.timeout=r.controls.timeout;i.controls.sizeAdjust=r.controls.sizeAdjust;i.controls.spaceControlsPlayback|=r.controls.spaceControlsPlayback;i.controls.experimentalShortcuts|=r.controls.experimentalShortcuts;i.controls.activeStartsAt=r.controls.activeStartsAt;i.controls.chromecastMode=r.controls.chromecastMode;i.controls.speed|=r.controls.speed}if(r.subtitles){i.subtitles||(i.subtitles={});i.subtitles.contrast=r.subtitles.contrast;i.subtitles.sizeAdjustment=r.subtitles.sizeAdjustment;i.subtitles.supportLiveSubtitles|=r.subtitles.supportLiveSubtitles}r.quality&&(t.quality=r.quality);a=!0}}catch(s){}},destroy:function(){this._container&&(this._container.innerHTML="")},call:function(){},play:function(e){this.call("play",e)},stop:function(){this.call("stop")},suspend:function(){this.call("suspend")},pause:function(){this.call("pause")},next:function(e){this.call("next",e)},previous:function(e){this.call("previous",e)},pauseAt:function(e){if(e){e=e instanceof Array?e:[e];this.call("pauseAt",e)}},muted:function(e){if("undefined"!=typeof e){this._muted=e;this.call("muted",e)}return this._muted},volume:function(e){if("number"==typeof e){this._volume=e;this.call("volume",e)}return this._volume},duration:function(){return this._duration},ended:function(){return this._ended},seeking:function(){return this._seeking},paused:function(){return this._paused},kind:function(){return this._kind},mediaItem:function(){return this._mediaItem},loadedPlaylist:function(){return this.playlist},currentTime:function(e){"number"==typeof e&&this.call("currentTime",e);return this._currentTime},showSubtitles:function(e){this.call("showSubtitles",e)},setData:function(e){if(e)if(e instanceof Array)for(var t=0;e.length>t;t++)this.call("setData",e[t]);else this.call("setData",e)},playbackRate:function(e){if("number"==typeof e&&e>0){this._playbackRate=e;this.call("playbackRate",e)}return this._playbackRate},updateQuality:function(e){this.call("updateQuality",e)},onAdsProcessed:function(e){this.call("onAdsProcessed",e)},webcastData:function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];"[object Date]"===Object.prototype.toString.call(i)&&(e[t]=i.getTime()/1e3)}},loadPluginWithCheck:function(e,t){for(var i=["eavis","endSlate"],n=e.url+"",a=0;i.length>a;a++)if(n.indexOf(i[a])>-1)return;if(0===n.indexOf("name:")){var o=this._settings.namedPlugins,r=!1,s=n.split("name:");if(2==s.length)for(var l in o)if(s[1]===l){e.url=o[l];r=!0;break}if(!r)return}var d=this._settings.pluginUpgrades&&this._settings.pluginUpgrades[this._name];if(d){var c=d[e.url];if(c){e.url=c.url;var u=c.module;(u===!0||u===!1)&&(e.module=u)}}this.call(t||"loadPlugin",e)},before:function(){var e=this,t=e._settings;e.ready=!0;e.volume(t.volume);e.muted(t.muted);e._lastSignificant=t.startTime},started:function(e){var t=this,i=t._settings;e.supportChromecast&&i.allowCasting&&window.embeddedMedia.chromeCast.castInterface&&window.embeddedMedia.chromeCast.castInterface.initialised&&window.embeddedMedia.chromeCast.castInterface.sendCastIconState();window.addEventListener?window.addEventListener("beforeunload",function(){t.call("stop",{destroy:!0})}):window.attachEvent&&window.attachEvent("onbeforeunload",function(){t.call("stop",{destroy:!0})});var n=window.embeddedMedia.parentalGuidance;n.updateCallbacks.push(function(e){i.guidance=e;e.noPin=i.guidanceCleared;t.call("updateGuidance",e)});n.closedCallbacks.push(function(e){t.call("guidanceClosed",[e]);if(t.resizePlayer){t.resizePlayer();setTimeout(function(){t.resizePlayer&&t.resizePlayer()},500)}"html"==t.type&&t._gCalled&&e&&!t._lockClicked&&t.play(!0);t._gCalled=!1})},processEvent:function(e,t,n){var a=e.type;t=t||{};var o=this;for(var r in t)if("type"!=r){e[r]=t[r];"currentDuration"==r&&(e.duration=t[r])}var l=window.embeddedMedia.chromeCast.castInterface;switch(a){case"ccRequestSession":l.requestSession();break;case"ccLoadMedia":l.loadMedia(this);break;case"ccPause":l.pause();break;case"ccPlay":l.play();break;case"ccSeek":l.seek(n.seekTime);break;case"ccSubsOn":l.subtitlesOn();break;case"ccSubsOff":l.subtitlesOff();break;case"ccVolume":l.setVolume(n.volume);break;case"ccMuted":l.setMuted(n.muted);break;case"timeupdate":o._currentTime=t.currentTime;o._duration=t.duration;if(Math.abs(o._currentTime-o._lastSignificant)>o._settings.significantTime){var d={type:"significanttimeupdate"};for(r in t)"type"!=r&&(d[r]=t[r]);o._lastSignificant=o._currentTime;o.trigger(d)}break;case"seeked":o._seeking=!1;"number"==typeof t.currentTime&&(o._currentTime=t.currentTime);break;case"seeking":o._seeking=!0;"number"==typeof t.currentTime&&(o._currentTime=t.currentTime);break;case"ratechange":o._playbackRate=t.playbackRate;break;case"playlistEnded":case"ended":o._playing=!1;o._ended=!0;break;case"tryingToPlay":o._paused=!1;break;case"pause":o._paused=!0;break;case"playing":o._playing=!0;o._paused=!1;o._ended=!1;o._kind=e.kind;break;case"playlistLoaded":o._playing=!1;o._seeking=!1;o._paused=!0;o._ended=!1;o.playlist=t.playlist;var c=o.reloadScope;c&&c.loadingData&&!c.loadingData.playlist&&(c.loadingData.playlist=c.loadingData.now());break;case"mediaItemChanged":o._currentTime=0;o._lastSignificant=0;o._mediaItem=e.mediaItem;break;case"linkRequest":("managePIN"===t.type||"PGinfo"===t.type)&&window.open("//www.bbc.co.uk/iplayer/guidance","pg");break;case"embed":if(o.playlist){o._restoreFocus=!0;s.show(o)}break;case"setPIN":window.embeddedMedia.parentalGuidance.setPIN(t.PIN);break;case"setGuidanceSkipped":window.embeddedMedia.parentalGuidance.setAgeConfirmation(t.skipped);break;case"guidanceLocked":window.embeddedMedia.parentalGuidance.setLocked(t.locked,!0);break;case"guidanceClosed":window.embeddedMedia.parentalGuidance.close(void 0,!0);break;case"setUnder16Permission":window.embeddedMedia.parentalGuidance.setUnder16Permission(t.hasPermission);break;case"configFromPlayer":window.embeddedMedia.processConfigFromPlayer(e.config,"",o._settings.domid);break;case"uiConfigFromPlayer":window.embeddedMedia.processConfigFromPlayer(e.config,"ui",o._settings.domid);break;case"addBumpPlaybackSettingsPanel":o.playbackSettingsPanel||(o.playbackSettingsPanel=new P(o));break;case"showBumpPlaybackSettingsPanel":if(o.playbackSettingsPanel){o.playbackSettingsPanel.showPanel(e.x,e.y);e.nonPointerFocus?o.playbackSettingsPanel.setNonPointerFocus():o.playbackSettingsPanel.removeNonPointerFocus();i.nonPointerFocusListeners.setMovingFocus();o.playbackSettingsPanel.focus()}break;case"repositionBumpPlaybackSettingsPanel":o.playbackSettingsPanel&&o.playbackSettingsPanel.repositionPanel(e.x,e.y);break;case"closeSettingsPanels":w.closeSettingsPanels()}},setPoster:function(e,t){this.ready&&e&&this.call("setPoster",{url:e,effect:t})},getLeft:function(){return i.pageOffset(this._container).left},getTop:function(){return i.pageOffset(this._container).top},showBumpPlaybackSettings:function(){this.playbackSettingsPanel&&this.playbackSettingsPanel.showBottomPanel()},settings:function(e){if(e){this._settings.set(e);this.updateConfig(e)}return this._settings},persistSettings:function(){},queuePlaylist:function(){},setPreviousPlaylist:function(){},updateMediaset:function(){console.error("updateMediaset does nothing")},loadPlaylist:function(){},resetForPlaylist:function(){},captureIntent:function(){},updateUiConfig:function(){},updateConfig:function(){},distributeConfig:function(){},focusButton:function(){}};return e}(),d=function(){function e(){this.type="html";this.includePoster=!1;this.backgroundPlayer=null;return this}var t=e.prototype;t._name="smp-html-background";t.compatibility=function(e){return"background"==e.product&&i.hasVideo&&!e.disableHtml?!0:!1};t.embed=function(e,t){var i=this;n.mediationUrls(e,e,!0);i._settings=e;i._container=e.container;i._container.innerHTML="";var a=e.html5Debug?"https://emp.bbci.co.uk/emp/htmlbackground/1.2.1/backgroundplayer.js":"https://emp.bbci.co.uk/emp/htmlbackground/1.2.1/backgroundplayer.min.js";if(!window.require)throw"No require available, smp-html-background requires require.";require([a],function(n){i.backgroundPlayer=new n(i._container,e,i);t(i,{markers:!1,queuedPlaylist:!1,inPage:!0,chromecast:!1,overlay:!1})})};t.loadPlaylist=function(){this.backgroundPlayer&&this.backgroundPlayer.loadPlaylist(this._settings)};t.play=function(){this.backgroundPlayer&&this.backgroundPlayer.play()};t.pause=function(){this.backgroundPlayer&&this.backgroundPlayer.pause()};t.muted=function(e){return this.backgroundPlayer?this.backgroundPlayer.muted(e):void 0};t.volume=function(e){return this.backgroundPlayer?this.backgroundPlayer.volume(e):void 0};t.updateConfig=function(){};t.updateUiConfig=function(){};t.resetForPlaylist=function(){};t.captureIntent=function(){};t.updateUiConfig=function(){};t.updateConfig=function(){};t.distributeConfig=function(){};t.focusButton=function(){};return e}(),c=function(){var e=function(e){var t=this,i=document.getElementById(e);t._receiveKey=e+Math.random();i&&i.contentWindow&&(t._postElement=i.contentWindow);t._url=i.src;t._listeners={};t.post({initXD:{receiveKey:t._receiveKey}});t.receive(function(e){if(e.data){var i=e.data.type,n=e.data.data,a=t._listeners[i];if(a)for(var o=0;a.length>o;o++){var r=a[o];r.call(t,n)}}})};e.prototype={_receiveKey:"",_postElement:null,_listeners:{},post:function(e){var t=this;e&&t._postElement&&t._postElement.postMessage&&t._postElement.postMessage(JSON.stringify(e),"*");return t},receive:function(e){var t=this,i=function(i){var n=i.origin+"";if((0===t._url.indexOf(n)||0===t._url.indexOf(n.replace("https://","http://")))&&i.data&&i.data.indexOf&&0===i.data.indexOf("{")){var a={};for(var o in i)a[o]="data"==o?JSON.parse(i[o]):i[o];if(!a.data.receiveKey||a.data.receiveKey!==t._receiveKey)return!1;e(a)}};window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i);return t},on:function(e,t){var i=this,n=function(){setTimeout(function(e){t.apply(i,e)},0,arguments)};this._listeners[e]||(this._listeners[e]=[]);this._listeners[e].push(n);return i},fire:function(e,t){this.post({receiveKey:this._receiveKey,type:e,data:t})}};return e}(),u=function(){function e(e,t,n){var a="en";e&&(a=e.locale());t=i[t]||t;if(window.embeddedMedia.language){var o=window.embeddedMedia.language.t(t,a);if(o!=t)return o}return n||"Unknown Error"}function t(t,i){this.type="error";this.code=t;this.severity="critical";this.description=e(i,t+"");return this}var i={6000:"unableToEmbed",6003:"errorUnsupported",6004:"initialiseFailed",6005:"initialiseFailed",6010:"flashNotAvailable",6012:"errorUnsupported",1003:"defaultErrorMessage",1040:"flashNotAvailable"};return t}(),p=function(){function t(e){return!!e&&("radioProgramme"===e.kind||"audio"===e.kind)}function a(e,t){if(!e)return"00:00";if(isNaN(e)||0>e||e>36e4)return"";var i=Math.floor(e/60),n=Math.floor(i/60);i=Math.floor(i%60);var a=Math.floor(e%60);10>i&&(i="0"+i);10>a&&(a="0"+a);var o=[i,a];(n>0||t)&&o.unshift(n);t&&o.pop();return o.join(":")}function o(e,t,i){var n="cta_play.png";t?n=i?"svg/white/audio.svg":"svg/white/play.svg":i&&(n="cta_play_audio.png");return n}function r(e,t,i,n){var a={ctaSize:i?"60px":"80px",ctaBackgroundSize:"52px 52px",ctaBackgroundPosition:"50% "+(t?"38%":"50%")};if(e){a.ctaBackgroundSize="60px 60px";t&&(a.ctaBackgroundPosition="10px 5px");if(i)if(n){t&&(a.ctaBackgroundPosition="7px 1px");a.ctaBackgroundSize="45px 45px"}else{t&&(a.ctaBackgroundPosition="10px 4px");a.ctaBackgroundSize="40px 40px"}else if(n){t&&(a.ctaBackgroundPosition="9px 4px");a.ctaBackgroundSize="62px 62px"}}else if(i)if(n){a.ctaBackgroundSize="22px 22px";t&&(a.ctaBackgroundPosition="50% 34%")}else a.ctaBackgroundSize="35px 35px";else n&&(a.ctaBackgroundSize="28px 28px");return a}function s(e,t,i,n){var a=document.createElement("div"),o=window.embeddedMedia.players.length,r=!n,s="",l=document.getElementsByClassName("p_cta")[0];l&&(s=window.getComputedStyle?window.getComputedStyle(l).direction:l.currentStyle.direction);var c="rtl"==s,u=c?"margin-right: 10px; ":"margin-right: -2px; ",p=c?"margin-right:10px;":"margin-left:10px;",f=c?"margin-right:80px;":"margin-left:80px;",m=c?"padding-left:30px;":"padding-right:30px;";a.id="p_guidance"+o;var g=document.createElement("div");g.id="p_guidanceBox"+o;g.className="p_guidanceBox";var h=document.createElement("span"),b=document.createElement("span"),w=i?"background-color:white; color:black;":"background-color:#E51854;",P="display:inline-block;margin:auto;border-radius:50%;height:15px;width:15px;"+w+"position: relative; top:-2px;";if(y){h.id="p_guidanceG"+o;b.id="p_guidanceW"+o;h.style.backgroundImage='url("'+v+'svg/guidance.svg")';b.style.backgroundImage='url("'+v+'svg/warningGuidance.svg")';b.style.display=i?"inline-block":"none";h.style.display=i?"none":"inline-block";h.setAttribute("aria-labelledby","p_guidanceText"+o);b.setAttribute("aria-labelledby","p_guidanceText"+o);P="width:15px;height:15px;display:inline-block;position: relative; top: 2px;"+u}else{h.id="p_guidanceG"+o;var _=document.createElement("span");_.id="p_guidanceGText"+o;h.appendChild(_);_.textContent="G";_.setAttribute("aria-labelledby","p_guidanceText"+o)}g.appendChild(h);g.appendChild(b);var C=document.createElement("span");C.id="p_guidanceText"+o;C.textContent=t;g.appendChild(C);a.appendChild(g);var k="position:absolute;height:80px;bottom:-0.5px;background-color: rgba(0, 0, 0, 0.7);"+f+"margin-top: -40px;display:table;"+m+"line-height:1";document.documentElement.className.indexOf("b-reith-sans-font")>=0&&r?a.className+="font-family-sans":k+="; font-family:helvetica, Arial, sans-serif";var E=e.sheet;d(E,"#p_guidance"+o,k,0);d(E,".minimode #p_guidance"+o,"left: 61px;height:60px;",1);d(E,"#p_guidanceBox"+o,"color:#ffffff;font-size:12px;font-weight:bold;padding-left:8px;display:table-cell;vertical-align:middle;",2);d(E,"#p_guidanceG"+o,P,3);d(E,"#p_guidanceW"+o,P,3);d(E,"#p_guidanceGText"+o,"position:relative;left:3px;top:1px;line-height:normal;",4);d(E,"#p_guidanceText"+o,p,5);return{text:C,div:a,id:o}}function d(e,t,i,n){if(e.insertRule){n=void 0===n?e.cssRules.length:n;e.insertRule(t+"{"+i+"}",n)}else e.addRule&&e.addRule(t,i,n)}function c(e){function t(){clearTimeout(a);r=!0;i.hasClass(e,"nonPointerFocus")&&i.className(e,"","nonPointerFocus");a=setTimeout(n,250)}function n(){r=!1}var a,o,r=!1,s=!1;i.hasClass(e,"nonPointerFocus")||i.className(e,"nonPointerFocus");if(window.PointerEvent)document.addEventListener("pointerdown",t,!0);else{document.addEventListener("touchstart",t,!0);document.addEventListener("mousedown",t,!0)}window.addEventListener("focus",function(){clearTimeout(o);s=!0;o=setTimeout(function(){s=!1},250)});document.addEventListener("focusin",function(){r||s||i.hasClass(e,"nonPointerFocus")||i.className(e,"nonPointerFocus")},!0)}function u(e){this.immediate=!0;this._name=e;return this}function p(e,t){var i={gMessage:t,isWarning:!1};if(e.playlistObject){if(e.playlistObject.warning){i.gMessage=e.playlistObject.warning;i.isWarning=!0}if(e.playlistObject.guidance){i.gMessage=e.playlistObject.guidance;i.isWarning=!1}}return i}function f(e){if(e&&e.items)for(var t=0;e.items.length>t;t++)if(e.items[t].live===!0)return!0;return!1}function m(e){e.audiouiLiveIndicator.style.display=e._settings.playlistObject&&f(e._settings.playlistObject)?"block":"none";var t=h(e._settings);if(t&&e._settings.playlistObject&&!f(e._settings.playlistObject)&&e._settings.ui.cta&&"duration"==e._settings.ui.cta.mode){e.audioDurationHolder.innerHTML=t;e.audioDurationHolder.style.opacity=1}else e.audioDurationHolder.style.opacity=0}function g(e){var t=e._settings.locale(),n=window.embeddedMedia.language,a=e.sheet;d(a,"#p_audioui_playpause_circle","stroke: #fff;stroke-width: 3;fill: none;");d(a,"#p_audioui_playpause_highlightCircle","opacity: 0;-webkit-transition: 100ms opacity linear;transition: 100ms opacity linear;fill:"+e._settings.ui.colour+";");d(a,"#p_audioui_playpause.hovering #p_audioui_playpause_highlightCircle,#p_audioui_playpause.pressed #p_audioui_playpause_highlightCircle,.nonPointerFocus #p_audioui_playpause.focused #p_audioui_playpause_highlightCircle","opacity: 1;");d(a,"#p_audioui_playpause_playIcon","-webkit-transform-origin: 34px 34px;transform-origin: 34px 34px;-webkit-transition: 100ms -webkit-transform ease-out;transition: 100ms -webkit-transform ease-out;transition: 100ms transform ease-out;transition: 100ms transform ease-out, 100ms -webkit-transform ease-out;-webkit-transform: scale(1);transform: scale(1);");d(a,"#p_audioui_playpause.pressed #p_audioui_playpause_playIcon","-webkit-transform: scale(1.4);transform: scale(1.4);");var o=document.createElement("button");o.id="p_audioui_playpause";o.setAttribute("aria-label",n.t("aaampPlay",t));var r=i.createSVGElement("svg",{width:68,height:68,viewbox:"0 0 68 68"}),s=i.createSVGElement("circle",{id:"p_audioui_playpause_circle",cx:34,cy:34,r:32}),l=i.createSVGElement("circle",{id:"p_audioui_playpause_highlightCircle",cx:34,cy:34,r:34}),c=i.createSVGElement("polygon",{id:"p_audioui_playpause_playIcon",points:"27 46 46 34 27 22"});r.appendChild(s);r.appendChild(l);r.appendChild(c);o.appendChild(r);i.hoverMoveAction(o,function(){i.className(o,"hovering")});i.hoverLeaveAction(o,function(){i.className(o,"","hovering")});i.downAction(o,function(){i.className(o,"pressed")});i.upAction(document,function(){i.className(o,"","pressed")},!0);i.multiAddEventListener(o,"focus focusin",i.throttleFn(function(){i.className(o,"focused")}));i.multiAddEventListener(o,"blur focusout",i.throttleFn(function(){i.className(o,"","focused")}));o.addEventListener("keydown",function(e){(13==e.keyCode||32==e.keyCode)&&i.className(o,"pressed")});o.addEventListener("keyup",function(){i.className(o,"","pressed")});e._settings.includeAppClickHandler&&i.multiAddEventListener(o,"mouseup touchend click",i.throttleFn(e.getUserPlay()));return o}function h(e){var t=null;if(e.overrideCtaDuration)t=e.overrideCtaDuration;else{var i=n.firstProgramme(e.playlistObject);i&&i.duration&&(t=a(i.duration,!1))}return t}var y,v="https://emp.bbci.co.uk/emp/assets/2.1.0/",b=u.prototype=new l;b.embed=function(t,i){var n=this,a=document.createElement("style"),o=document.getElementsByTagName("head")[0];o.appendChild(a);n.sheet=a.sheet?a.sheet:a.styleSheet;n._settings=t;n._container=t.container;n._version=window.embeddedMedia.version;c(n._container);n.uiDefaults(e.get());n.ctaNeedsCreating=n.createCta();n.extraEmbed&&n.extraEmbed();i(n,n.capability);n.processPlaylist(null,!0);n.trigger({type:"initialised"});n.processPlaylist()};b.show=function(e){this.wrapper.children().show();e&&this.play()};b.hide=function(){this.wrapper.children().hide()};b.setLocation=function(t){var i=this._settings;if(i.insideIframe){var n={type:"navigateTo"};n.href=t;this.trigger(n)}else{try{var a=""===top.location.href&&!1}catch(o){a=!0}e.requiresWindowOpenSMPAirLaunch||a?window.open(t):top.location=t}};b.hasPlaylist=function(){var e=this._settings;return e.playlist||e.playlistObject};b.updateUiConfig=function(){var e=this,t=e._createdUI||{},i=e._settings.ui,n=!1,a=t.miniMode&&t.miniMode.enabled,o=i.miniMode&&i.miniMode.enabled;if(a!=o)n=!0;else if(t.colour!=i.colour)n=!0;else{var r=i[e.classStr]||i.CTAcss;e._ctaClassName!=r&&(n=!0)}if(n){this.wrapper&&(this.wrapper.innerHTML="");this.createCta()}};b.processPlaylist=function(e,t){var n=this,a=n._settings,o=e||a.playlistObject;if(o){n.playlist=i.clone(o);var r=n.playlist.items;if(r)for(var s=r.length-1;s>=0;s--){var l=r[s];n.filterPlaylist&&("ident"==l.kind||"advert"==l.kind||"360"==l.kind)&&r.splice(s,1);if(l.versionID)l.vpid=l.versionID;else if(l.serviceID){l.vpid=l.serviceID;l.live=!0;n.playlist.simulcast!==!1&&(n.playlist.simulcast=!0)}l.identifier=l.vpid}if(!t){var d={type:"playlistLoaded"};d.playlist=n.playlist;n.trigger(d)}}else n.playlist=null};b.next=function(){var e=this,t=e.playlist;if(t)if(t.items&&t.items.length>1)t.items.shift();else if(t.queuedPlaylist){e.processPlaylist(t.queuedPlaylist);var n=e._settings;n.playlist="";n.playlistObject=t.queuedPlaylist;n.webcastData={};n.overrideHoldingImage=null;n.statsObject.parentPID=void 0;n.statsObject.parentPIDType=void 0;n.statsObject.episodePID=void 0;n.statsObject.clipPID=void 0;n.statsObject.brandPID=void 0;n.statsObject.seriesPID=void 0;n.statsObject.playlistLabels=void 0;n.statsObject.playlistName=void 0;t.queuedOptions&&i.merge(n,t.queuedOptions);e._statsObject=i.clone(n.statsObject)}};b.loadPlaylist=function(){var e=this,t=e._settings,i=window.embeddedMedia.parentalGuidance;i.setUnder16Permission(!1);if(e.ctaNeedsCreating)setTimeout(function(){e.ctaNeedsCreating=e.createCta()},100);else if("audio"==t.ui.skin)m(e);else if(e.incGuidance&&(!t.ui.guidance||t.ui.guidance.enabled!==!1)){var n=t.playlistObject&&(t.playlistObject.guidance||t.playlistObject.warning)||t.forceGuidance||t[e._guidance];if(n){var a=p(t,n);if(e.guidanceWrapper){if(y){var o=document.getElementById("p_guidanceG"+e.guidanceWrapper.id),r=document.getElementById("p_guidanceW"+e.guidanceWrapper.id);if(a.isWarning){r.style.display="inline-block";o.style.display="none"}else{r.style.display="none";o.style.display="inline-block"}}else{var l=document.getElementById("p_guidanceGText"+e.guidanceWrapper.id),d=document.getElementById("p_guidanceG"+e.guidanceWrapper.id);if(a.isWarning){l.style.color="black";d.style.backgroundColor="white"}else{l.style.color="white";d.style.backgroundColor="#E51854"}}e.guidanceWrapper.div.style.display="";e.guidanceWrapper.text.textContent=a.gMessage}else{e.guidanceWrapper=s(e,a.gMessage,a.isWarning,t.ui.disableReithFonts);e.wrapper.appendChild(e.guidanceWrapper.div)}}else if(e.guidanceWrapper){e.guidanceWrapper.div.style.display="none";e.guidanceWrapper.text.textContent=""}}e.processPlaylist();t.autoplay&&e.play();e.resetContainer&&e.resetContainer();e.setPoster()};b.createCta=function(){if(this.hasPlaylist()){"audio"==this._settings.ui.skin?this.createAudioCta():this.createClassicCta();return!1}return!0};b.createAudioCta=function(){var e=this,t=g(e);d(e.sheet,"#p_audioui_playpause","position: absolute;left: 50%;margin: 0 0 0 -34px;bottom: 16px;width: 68px;height: 68px;fill: #FFFFFF;padding: 0;border: 0;outline: 0;background: transparent;cursor: pointer;");var n=e.audioDurationHolder=document.createElement("div");n.id="p_audioui_durationHolder";d(e.sheet,"#p_audioui_durationHolder","position: absolute; bottom: 42px; left: 50%; margin-left: 50px; width: 150px; color: #FFF; font-size: 15px; line-height: 15px; opacity: 0;");var a=e.wrapper=document.createElement("div");a.className="p_audioui_wrapper";d(e.sheet,".p_audioui_wrapper","width:100%;height:100%;position:relative;opacity:0;transition: opacity 1000ms linear;");(document.documentElement.className.indexOf("b-reith-sans-font")==-1||e._settings.ui.disableReithFonts)&&d(e.sheet,".p_audioui_wrapper","font-family: helvetica, Arial, sans-serif;");var o=document.createElement("div");o.id="p_audioui_progressBar";d(e.sheet,"#p_audioui_progressBar","position: absolute; bottom: 119px; height: 2px; left: 16px; right: 16px; background-color: rgba(255,255,255, 0.3);");e.sheet.insertRule&&e.sheet.insertRule("@media (max-width: 399px) { #p_audioui_progressBar { left: 10px; right: 10px; } }",e.sheet.cssRules.length);var r=e.audiouiLiveIndicator=document.createElement("div");r.id="p_audioui_liveIndicator";d(e.sheet,"#p_audioui_liveIndicator","position: absolute; right: 16px; bottom: 92px;");m(e);var s=document.createElement("span");s.className="p_audioui_liveText";s.innerHTML="LIVE";d(e.sheet,".p_audioui_liveText","display: block; float: right; margin-left: 3px; height: 12px; line-height: 12px; font-size: 12px; color: #FFF;");var l=i.createSVGElement("svg",{width:12,height:12});d(e.sheet,"#p_audioui_liveIndicator svg","display: block; float: right; fill: #fff;");var c=i.createSVGElement("path",{d:"M5.96681502,10.3410568 C8.38342771,10.3410568 10.3424794,8.38388329 10.3424794,5.96958745 C10.3424794,3.5552916 8.38342771,1.59811812 5.96681502,1.59811812 C3.55020233,1.59811812 1.59115067,3.5552916 1.59115067,5.96958745 C1.59115067,8.38388329 3.55020233,10.3410568 5.96681502,10.3410568 Z M5.96681502,11.930682 C2.67143408,11.930682 0,9.26180906 0,5.96958745 C0,2.67736584 2.67143408,0.00849290887 5.96681502,0.00849290887 C9.26219596,0.00849290887 11.93363,2.67736584 11.93363,5.96958745 C11.93363,9.26180906 9.26219596,11.930682 5.96681502,11.930682 Z"}),u=i.createSVGElement("circle",{"class":"p_audioui_liveIconCentre",cx:6,cy:6,r:3});if(e.sheet.insertRule){e.sheet.insertRule("@media (prefers-reduced-motion: no-preference) { .p_audioui_liveIconCentre { animation: 1.7s ease 3 p_audioui_pulsate; } }",e.sheet.cssRules.length);e.sheet.insertRule("@keyframes p_audioui_pulsate { from { opacity: 1; } 50% { opacity: 0.3; } to { opacity: 1; } }",e.sheet.cssRules.length);e.sheet.insertRule("@media (max-width: 399px) { #p_audioui_liveIndicator { right: 10px; } }",e.sheet.cssRules.length)}l.appendChild(u);l.appendChild(c);r.appendChild(s);r.appendChild(l);a.appendChild(t);a.appendChild(n);a.appendChild(o);a.appendChild(r);e._container.innerHTML="";e._container.appendChild(a);a.style.opacity=1};b.createClassicCta=function(){var e=this,a=e._settings,l=a.ui.miniMode&&a.ui.miniMode.enabled;e._createdUI=i.clone(a.ui);var d=!1,c=h(a),u=n.firstProgramme(a.playlistObject);u&&(d=t(u));var f=(a.ui.colour+"").replace("0x","#").substring(0,7),m=a.ui.foreColour?a.ui.foreColour:"#ffffff";e.wrapper||(e.wrapper=i.getWrapper(a,999));e.wrapper.className=l?"minimode":"";var g=window.embeddedMedia.players.length,b=document.createElement("button");b.setAttribute("id","cta"+g);b.className="p_cta";b.title=window.embeddedMedia.language.t("aaampPlay",a.locale());var w=e._ctaClassName=a.ui[e.classStr]||a.ui.CTAcss;e.incGuidance=!0;var P=null;if(c&&a.ui.cta&&"duration"===a.ui.cta.mode){P=document.createElement("span");P.className="p_ctaDuration";
P.textContent=c;b.appendChild(P)}if(w){e.incGuidance=!1;b.className=w}else{y=a.ui.useHighResIcons;var _=a.ui.cta||{};_.ignoreAudio&&(d=!1);var C=!1;!y||d||l||(C=!0);var k=o(a,y,d),E=r(y,P,l,d),x='url("'+v+k+'")';void 0!==_.custom&&(x='url("'+_.custom+'")');if(C){e._container.style.cursor="pointer";var S=P?28:32,I=i.createSVGElement("svg",{width:S,height:S,viewBox:"0 0 32 32",fill:"#ffffff"}),T=i.createSVGElement("path",{d:"M4.4,32V0l25.1,16L4.4,32z"});I.appendChild(T);if(P){I.style.marginTop="-10px";b.insertBefore(I,P)}else b.appendChild(I);b.setAttribute("style","opacity : 0.9;background-color:#000;margin : 0;padding: 0; border: 0;width  : "+E.ctaSize+";height : "+E.ctaSize+";display :  block;position : absolute;cursor:pointer; bottom : -0.5px")}else b.setAttribute("style","background-image : "+x+";background-position : "+E.ctaBackgroundPosition+";background-repeat:no-repeat;background-color :#000000;background-size : "+E.ctaBackgroundSize+";opacity : 0.8;margin : 0;padding: 0; border: 0;width  : "+E.ctaSize+";height : "+E.ctaSize+";display :  block;position : absolute; bottom : -0.5px");if(P){var L=l?"6px":"8px",A=l?"60px":"80px";P.setAttribute("style","font-size: 0.75rem;text-align : center;position: absolute;bottom: "+L+";left: 0px;width: "+A+";color: #fff;background-colour:transparent")}var M=function(){if(C){b.style.transition="background-color 0.4s ease-out";b.firstChild.setAttribute("fill",m);P&&(P.style.color=m)}b.style.backgroundColor=f;b.style.opacity=1},N=function(){b.style.backgroundColor="#000000";b.style.opacity=.9;if(C){b.firstChild.setAttribute("fill","#ffffff");P&&(P.style.color="#ffffff")}};e._container.addEventListener("mousedown",M);e._container.addEventListener("mouseover",M);e._container.addEventListener("touchstart",M);e._container.addEventListener("focusin",M);e._container.addEventListener("mouseup",N);e._container.addEventListener("mouseout",N);e._container.addEventListener("touchend",N);e._container.addEventListener("touchmove",N);e._container.addEventListener("focusout",N)}if(a.includeAppClickHandler){b.setAttribute("tabIndex",0);var O=i.throttleFn(e.getUserPlay());i.multiAddEventListener(e._container,"mouseup touchend click",O);i.multiAddEventListener(b,"click",O)}e.wrapper.appendChild(b);e._container.innerHTML="";e._container.appendChild(e.wrapper);if(e.incGuidance&&(!a.ui.guidance||a.ui.guidance.enabled!==!1)){var D=a.playlistObject&&(a.playlistObject.guidance||a.playlistObject.warning)||a.forceGuidance||a[e._guidance];if(D){var B=p(a,D);e.guidanceWrapper=s(e,B.gMessage,B.isWarning);e.wrapper.appendChild(e.guidanceWrapper.div)}}};b.getUserPlay=function(){var e=this;return function(){e.sonar&&setTimeout(function(){e.trigger({type:"userPlay"});e.sonar.action("click","play_"+e.daxname)},50);e.play()}};return u}(),f=function(){function e(){this.type="html";this.includePoster=!1;this.transcript=null;this.requireSonarJS=!0;return this}var t=e.prototype=new l;t._name="smp-transcript";t.compatibility=function(e){return 1==e.transcriptPlayer?!0:!1};t.embed=function(e,t){var i=this;n.mediationUrls(e,e,!0);i._settings=e;i._container=e.container;i._container.innerHTML="";var a=e.html5Debug?"https://emp.bbci.co.uk/emp/transcript/1.0.15/TranscriptPlayer.js":"https://emp.bbci.co.uk/emp/transcript/1.0.15/TranscriptPlayer.min.js";if(!window.require)throw"No require available, smp-transcript requires require.";require([a],function(n){i.transcript=new n(i._container,e,i);i._version=i.transcript._version;i.transcript.embed();i.transcript._eventBus.registerForPublic(function(e){i.sonar&&"Sonar"===e.type.substring(0,5)?i.sonar.eventHandler(e,i.sonar):i.trigger(e)});t(i,{markers:!1,queuedPlaylist:!1,inPage:!1,chromecast:!1,overlay:!1,slim:!1})})};t.loadPlaylist=function(){this._settings&&this._settings.playlistObject&&this.transcript.loadPlaylist(this._settings.playlistObject)};t.setData=function(e){this.transcript&&this.transcript.setData(e)};t.updateUiConfig=function(e){this.transcript&&(this.transcript.uiSettings=e)};t.linkMediaPlayer=function(e){this._linkedMp=e;this.transcript&&this.transcript.linkMediaPlayer(e)};t.mediaItem=function(){return this.transcript?this.transcript.mediaItem:void 0};t.call=function(e,t){this.transcript&&(this.transcript[e]?this.transcript[e](t):"closedSettingsPanels"!=e&&console.error("No "+e+" in Transcript"))};return e}(),m=function(){function t(){this.type="html";this.includePoster=!1;this.requireSonarJS=!0;this._currentTime=0;this._duration=0;this._playbackRate=1;this._fullScreen=!1;this._lastSignificant=0;this._kind="";this.pluginsToLoad=[];return this}function a(e){if(!m){m=!0;window.addEventListener("devicemotion",function(t){var i={rotationRate:{alpha:t.rotationRate.alpha,beta:t.rotationRate.beta,gamma:t.rotationRate.gamma},orientation:window.orientation};e.xd.fire("devicemotion",i)})}}function o(t,i){var n,a,o,r,s,l,d,c,u=t,m=u.wrapper,g=document.body.style,h=document.documentElement.style,y=e.get(),v=y.os.ios&&!y.isTabletDevice;u._pfse=function(){u._fullScreen=!0;if(!c){c=document.createElement("style");document.createTextNode&&c.appendChild(document.createTextNode(""))}document.head.appendChild(c);var t=c.sheet?c.sheet:c.styleSheet;if(t.cssRules&&0===t.cssRules.length){t.insertRule("#"+i+"wrp{z-index:2147483600!important}",0);t.insertRule("div{z-index:auto!important}",1);t.insertRule(".smpPG {z-index:2147483600!important}",2)}o=window.pageXOffset||document.documentElement.scrollLeft;r=window.pageYOffset||document.documentElement.scrollTop;n=g.overflow;g.overflow="hidden";a=h.overflow;h.overflow="hidden";document.body.addEventListener("touchmove",f);var y=u.resizePlayer=function(){var e=window.innerWidth,t=window.innerHeight;m.style.position="fixed";m.style.left="0";m.style.top="0";m.style.height=t+"px";m.style.paddingBottom=0;m.style.width=e+(v?.5:0)+"px";m.style.setProperty&&m.style.setProperty("position","fixed","important");m.style.WebkitTransform="translate3d(0,0,10em)"};window.removeEventListener("resize",p);window.removeEventListener("orientationchange",p);p=function(){y();clearTimeout(d);var t=200;(e.get().os.safariVersion>=16.2||e.get().os.iosSafariVersion>=17.2)&&(t=600);d=setTimeout(y,t)};window.addEventListener("resize",p);window.addEventListener("orientationchange",p);if(!s){for(var b="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",w=document.getElementsByTagName("meta"),P=0;w.length>P;P++)if("viewport"===w[P].name){l=w[P].content;w[P].content=b;s=w[P];break}if(!l){s=document.createElement("meta");s.name="viewport";s.content=b;document.getElementsByTagName("head")[0].appendChild(s)}}setTimeout(y,250)};u._pfsx=function(){u._fullScreen=!1;u.resizePlayer=null;clearTimeout(d);c&&document.head.removeChild(c);window.removeEventListener("resize",p);window.removeEventListener("orientationchange",p);m.style.removeProperty&&m.style.removeProperty("position","fixed","important");m.style.height="100%";m.style.width="100%";m.style.left="";m.style.top="";m.style.position="relative";m.style.WebkitTransform="";g.overflow=n;h.overflow=a;document.body.removeEventListener("touchmove",f);if(l){s.content=l;l=null;s=null}else if(s&&s.parentNode){s.content="";s.parentNode.removeChild(s);s=null}window.scroll(o,r)}}function r(e){var t=[];e.uiClass&&t.push(e.uiClass);e.defaultUiClass&&t.push(e.defaultUiClass);return t.join(" ")}function s(e){return function(t){var i,n=t.type,o={type:n};for(var r in t)"type"!=r&&"_"!=r&&"unwanted"!=r&&(o[r]=t[r]);e.processEvent(o,t,t.data);switch(n){case"durationchange":e._duration=t.duration;break;case"initialised":e._version=(t.version+"").replace(/\.smphtml5/i,"").replace(/[^\d\.]/gim,"");e.initialised();clearTimeout(e.iframeLoadAndInitialiseTimeout);break;case"volumechange":e._muted=t.muted;e._volume=t.volume;break;case"guidanceShow":e._gCalled=!0;e._lockClicked=t.lockClicked;window.embeddedMedia.parentalGuidance.show(t,e._settings.ui.colour,e._settings.locale());e._fullScreen&&(e.wrapper.style.WebkitTransform="");break;case"pause":e._ended=o.ended;break;case"mediaItemInfoChanged":case"mediaItemChanged":e._mediaItem=o.mediaItem;break;case"playing":e._mediaItem=o.mediaItem;break;case"playlistLoaded":var s=document.getElementById(e.getId());if(s)if(e.playlist.title)s.title=e.playlist.title;else{var l=window.embeddedMedia.language;s.title=l.t("screenreaderDefaultIframeTitle",e._settings.locale())}break;case"playlistLoading":t.statsObject&&(i=function(){t.statsObject.playlistURL||(t.statsObject.playlistURL=t.url);e._statsObject=t.statsObject});break;case"beforeFullscreenEnter":t.applyPageFullScreen&&e._pfse();break;case"beforeFullscreenExit":if(e._settings.superResponsive){e.wrapper.style.paddingBottom="";setTimeout(function(){e.wrapper.style.paddingBottom="56.25%"},10)}t.applyPageFullScreen&&e._pfsx();break;case"loadingThreeSixty":a(e);break;case"verify":window.embeddedMedia.parentalGuidance.verify(t,function(t){e.call("PINverified",{isCorrect:t})})}try{e.trigger(o);i&&i()}catch(d){i&&i();throw d}}}function d(t){var a=i.clone(t,{_container:!0,container:!0,dispatch:!0,init:!0,trigger:!0,initialisationListenerTimeout:!0}),o=e.get();a.embedReferer=document.referrer||"";a.uiClass=r(a);n.mediationUrls(a,a,!0);a.mobileNetwork=o.connection.mobile;a.playVideoExternally=!a.preferHtmlOnMobile&&a.preferInlineAudioPlayback&&o.htmlAudio&&t.playingAudio()&&!a.playerWasForced;a._demiIsUK=window.embeddedMedia.demi.isUK;return a}var p,f=function(e){e.preventDefault()},m=!1,g=t.prototype=new l;g._name="smphtml5";g.compatibility=function(t){var n=e.get(),a=!1;a=t.dashPlaybackOnly?n.hasMseSupport:i.hasVideo&&(n.hasHlsVodSupport||n.isMobileOrTablet||n.hasMseSupport);!a&&n.hybrid&&(a=!0);return a};g.embedUrl=function(e){return e.html5Debug?"//emp.bbc.co.uk/emp/SMPj/2.59.2/debug.html":"//emp.bbc.co.uk/emp/SMPj/2.59.2/iframe.html"};g.embed=function(t,n){var a=this;a._settings=t;a._container=t.container;clearTimeout(t.initialisationListenerTimeout);for(;a._container.firstChild;)a._container.removeChild(a._container.firstChild);var r=e.get();if(t.saveData){a._settings.delayEmbed=!0;a._settings.ui.thumbnail.enabled=!1;a._settings.ui.disableReithFonts=!0}a.uiDefaults(r);t.supportHls=r.hasHlsVodSupport;t.deviceSupports360=r.support360;for(var l=0;t.plugins.toLoad.length>l;l++){var d=t.plugins.toLoad[l];a.loadPlugin(d,d.data)}var p=a.embedUrl(t),f=!1,m=["bbc.co.uk","bbc.com","britbox.com","bbcrewind.co.uk","bbcconnectedstudio.co.uk","labs.bbc"];if("http:"==location.protocol||"https:"==location.protocol)for(l=0;m.length>l;l++)if(location.host.indexOf(m[l])!==-1){p=p.replace("bbc.co.uk",m[l]);try{document.domain=m[l];f=!0}catch(g){}}f&&/^http/.test(location.protocol)||(p=p.replace(/^\/\//,"https://"));a.uniqueId="X"+Math.random();var h=a._container,y=a.getId(),b=a.wrapper=i.getWrapper(t,999);b.setAttribute("id",y+"wrp");h.appendChild(b);var w=document.createElement("iframe");w.setAttribute("id",y);w.setAttribute("name",y);w.setAttribute("allow","autoplay");w.setAttribute("frameborder",0);w.setAttribute("scrolling","no");w.setAttribute("lang",a._settings.locale());w.setAttribute("allowfullscreen","");w.setAttribute("allowtransparency","");w.setAttribute("style","position:absolute;left:0;top:0;width:1px;min-width:100%;height:100%");a._settings.delayEmbed&&w.setAttribute("loading","lazy");b.appendChild(w);w.onload=function(){var e=y;a.iframeLoadAndInitialiseTimeout=setTimeout(function(){var e=new u(6007,t);v.error(e.code,t,"smphtml5");a.trigger(e)},5e3);o(a,e);a.xd&&(a.xd._listeners={});a.xd=new c(e);a.xd.on("jsapi",s(a));if("object"!=typeof window.JSON){var i=document.createElement("script");i.async=!0;i.src="https://emp.bbci.co.uk/emp/assets/bump-3/json.js";var n,r=!1;i.onload=function(){clearTimeout(n);r=!0;a.fireBootstrap()};document.head.appendChild(i);var l=function(){window.JSON?a.fireBootstrap():n=setTimeout(l,1e3)};n=setTimeout(l,1e3)}else a.fireBootstrap()};w.setAttribute("src",p);window.addEventListener&&window.addEventListener("pageshow",function(e){if(e.persisted){w.setAttribute("src",p);a._fullScreen&&a._pfsx()}});n(a,{markers:!0,queuedPlaylist:!0,previousPlaylist:!0,threeSixty:r.support360,inPage:!0,overlay:!0,slim:!1})};g.fireBootstrap=function(){var e=this;window.embeddedMedia.playerInstances[e.uniqueId]=e;var t={player:{vars:d(e._settings)},id:e.uniqueId,requireMap:window.bbcRequireMap};try{var i=document.getElementById(e.getId());i.contentWindow.bootstrap(t)}catch(n){e.xd.fire("bootstrap",t)}};g.updateUiConfig=function(e){try{var t=document.getElementById(this.getId());if(t)if(e.hidePlayerFromAT){t.setAttribute("aria-hidden",!0);t.setAttribute("tabindex","-1")}else{t.removeAttribute("aria-hidden");t.removeAttribute("tabindex")}}catch(i){}this.call("uiConfigFromBump",e)};g.updateConfig=function(e){this.call("configFromBump",e)};g.captureIntent=function(e){this.call("captureIntent",e)};g.focusButton=function(e,t){this.call("focusButton",{name:e,after:t})};g.loadPlaylist=function(e){var t=this;if(t.ready){var i=d(t._settings);i.nonUserBypass=i.nonUserBypass||e===!0;t.playlist=null;t._mediaItem=null;t.call("loadPlaylist2",i);i.playlistObject&&i.playlistObject.embedRights&&!i.externalEmbedUrl&&t.updateUiConfig({embed:{enabled:!1}});var n=i.webcastData;n&&(n.accurateStartTime||n.scheduledStartTime||n.accurateEndTime||n.scheduledEndTime)&&t.webcastData(n);i.nonUserBypass=!1}};g.getId=function(){return this._name+"iframe"+this._settings.domid};g.call=function(e,t){try{var i=document.getElementById(this.getId()),n=i.contentWindow.publicApi.api[e];n||(n=i.contentWindow.publicApi[e]);n(t)}catch(a){this.xd&&this.xd.fire("jsapi",{call:e,params:t})}};g.setPreviousPlaylist=function(e,t){var i=this;i.call("setPreviousPlaylist",{playlist:e,options:t})};g.queuePlaylist=function(e,t){var i=this;i.call("queuePlaylist",{playlist:e,options:t})};g.loadPlugin=function(e,t){if(e){var i=e.j2;i||e.playerOnly||(i=e.html);if(i){var n={url:i,data:t};if(this.ready){this.setData(n.data);this.loadPluginWithCheck(n,"loadPlugin2")}else this.pluginsToLoad.push(n)}}};g.webcastData=function(e){if(e){l.prototype.webcastData.call(this,e);this.setData({name:"SMP.webcastData",data:e})}};g.dispatchEvent=function(e,t){e&&this.call("dispatch",{type:e,data:t},!0)};g.show=function(e){this.wrapper.firstChild.style.width="100%";this._settings.tryPlayAfterInHtml&&e&&this.play(!0)};g.hide=function(){this.wrapper.firstChild.style.width="0%"};g.getHandleJSAPI=function(){return s(this)};g.initialised=function(){var t=this,i=t._settings;t.before();for(var n=0;t.pluginsToLoad.length>n;n++){var a=t.pluginsToLoad[n];a.waitOnPluginLoad=i.waitOnPluginLoad;t.setData(a.data);this.loadPluginWithCheck(a,"loadPlugin2")}(i.playlistObject||i.playlist)&&t.loadPlaylist(!0);t.started(e.get())};g.persistSettings=function(e){var t=this;t.call("persistSettings",{settings:e})};return t}(),g=function(){function t(t){var a=i.clone(t,{_container:!0,container:!0,dispatch:!0,init:!0,trigger:!0,initialisationListenerTimeout:!0});n.mediationUrls(a,a);a.mediator||(a.mediator={});a.mediator.mediaset=n.mediaSet(a);var o=e.get();a.mobileNetwork=o.connection.mobile;a._demiIsUK=window.embeddedMedia.demi.isUK;return a}function a(){if(!window.customElements)return!1;if(!window.HTMLElement||!window.HTMLElement.prototype.attachShadow)return!1;if(!window.ResizeObserver)return!1;if(!window.PointerEvent)return!1;try{document.querySelector(":focus-visible")}catch(e){return!1}return!0}function o(e){return e.supportFakeFullscreen?!0:e.ui&&"audio"==e.ui.skin?!0:window.HTMLElement&&(window.HTMLElement.prototype.requestFullscreen||window.HTMLElement.prototype.webkitRequestFullscreen)?!0:!1}function r(e){var t=n.firstProgramme(e.playlistObject);return t&&"360"==t.kind?!0:void 0}function s(e){return(e.enableToucan||/ck[pn]s_smpj2Optin=optin/.test(document.cookie))&&!/ckps_smpj2Optin=optout/.test(document.cookie)}function d(){this.type="html";this.includePoster=!1;this.requireSonarJS=!0;return this}var c=d.prototype=new l;c._name="toucan";c.compatibility=function(e,t){return a()&&!r(e)&&o(e)&&(t||s(e))&&(location.hostname+"").indexOf(".onion")==-1};c.getId=function(){return this._name+"-"+this._settings.domid};c.prepare=function(e){var t=e.html5Debug?"https://emp.bbci.co.uk/emp/toucan/bundle/1.37.5/debug/js/ToucanPlayer.js":"https://emp.bbci.co.uk/emp/toucan/bundle/1.37.5/live/js/ToucanPlayer.js",i=document.createElement("script");i.type="module";i.src=t;i.onload=function(){};document.head.appendChild(i)};c.embed=function(n,a){var o=this;this._settings=n;this._container=n.container;window.customElements.whenDefined("smp-toucan-player").then(function(){for(;o._container.firstChild;)o._container.removeChild(o._container.firstChild);var r=i.getWrapper(n,999);o._container.appendChild(r);var s=document.createElement("smp-toucan-player");s.style.cssText="position:absolute;width:100%;height:100%;left:0;right:0;flex:none;";o._version=s.version&&s.version.replace(/\.SMPToucan/i,"").replace(/[^\d\.]/gim,"");var l=window.embeddedMedia.language,d=o._settings.locale(),c=l.getList(d);c&&(s.language=c);o.toucan=s;o.toucan.id=o.getId();var u=e.get();o.uiDefaults(u);o.toucan.settings=t(n);o._preInitPlaylist=o.toucan.settings.playlistObject;o.toucan.uiSettings=o.toucan.settings.ui;s.__bumpInit=function(){a(o,{markers:!0,queuedPlaylist:!0,previousPlaylist:!1,threeSixty:!1,inPage:!0,overlay:!0,slim:!0});o.before();o.toucan._eventBus.registerForPublic(function(e){var t,i=e.type,n={type:i};o.processEvent(n,e,e.detail);switch(i){case"durationchange":o._duration=e.duration;break;case"volumechange":o._muted=e.muted;o._volume=e.volume;break;case"pause":o._ended=n.ended;break;case"mediaItemChanged":o._mediaItem=n.mediaItem;break;case"guidanceShow":o._gCalled=!0;window.embeddedMedia.parentalGuidance.show(e,o._settings.ui.colour,o._settings.locale(),!0);break;case"playlistLoading":e.statsObject&&(t=function(){o._statsObject=e.statsObject})}o.sonar&&"Sonar"===e.type.substring(0,5)?o.sonar.eventHandler(e,o.sonar):o.trigger(n);t&&t()});o.trigger({type:"initialised"});for(var t=0;n.plugins.toLoad.length>t;t++){var i=n.plugins.toLoad[t],r=i.html;r||i.playerOnly||(r=i.j2);if(r){var s={url:r,data:i.data,module:i.module};o.loadPluginWithCheck(s)}}if(o._preInitPlaylist){delete o._preInitPlaylist;o.loadPlaylist()}o.started(e.get())};r.appendChild(s)})};c.call=function(e,t){this.toucan&&(this.toucan[e]?this.toucan[e](t):console.error("No "+e+" in Toucan"))};c.resetForPlaylist=function(){this.call("resetForPlaylist")};c.loadPlaylist=function(e){if(this.toucan){delete this._preInitPlaylist;e===!0&&(this._settings.nonUserBypass=!0);this._settings.playlistObject&&this._settings.playlistObject.queueCurrentPlaylist&&this.toucan.readyCurrentPlaylistForQueuing&&this.toucan.readyCurrentPlaylistForQueuing();this.toucan.settings=t(this._settings);this._settings.nonUserBypass=!1;this.toucan.playlist=this._settings.playlistObject;var i=this._settings.webcastData;i&&(i.accurateStartTime||i.scheduledStartTime||i.accurateEndTime||i.scheduledEndTime)&&this.webcastData(i)}};c.updateQuality=c.updateConfig=function(e){this.toucan&&(this.toucan.settings=t(e))};c.captureIntent=function(e){this.call("captureIntent",e)};c.focusButton=function(e,t){this.call("focusButton",{name:e,after:t})};c.currentTime=function(e){if(this.toucan){"number"==typeof e&&(this.toucan.currentTime=e);return this.toucan.currentTime}};c.updateUiConfig=function(e){this.toucan&&(this.toucan.uiSettings=e)};c.setPreviousPlaylist=function(e,t){this.toucan&&(this.toucan.previousItem={playlist:e,options:t})};c.queuePlaylist=function(e,t){this.toucan&&(this.toucan.queuedItem={playlist:e,options:t})};c.webcastData=function(e){if(this.toucan&&e){l.prototype.webcastData.call(this,e);this.setData({name:"SMP.webcastData",data:e})}};c.paused=function(){return this.toucan?this.toucan.paused:void 0};c.ended=function(){return this.toucan?this.toucan.ended:void 0};c.seeking=function(){return this.toucan?this.toucan.seeking:void 0};c.playbackRate=function(e){if(this.toucan){"number"==typeof e&&(this.toucan.playbackRate=e);return this.toucan.playbackRate}};c.volume=function(e){if(!isNaN(e)){this._volume=e;this.toucan&&(this.toucan.volume=e)}return this._volume};c.muted=function(e){if(this.toucan){"boolean"==typeof e&&(this.toucan.muted=e);return this.toucan.muted}};c.dispatchEvent=function(e,t){this.toucan&&this.toucan.dispatchEventToPlugins(e,t)};c.loadPlugin=function(e,t){if(e){var i=e.html;i||e.playerOnly||(i=e.j2);if(i){var n={url:i,data:t,module:e.module};if(this.toucan)this.loadPluginWithCheck(n);else{t&&(e.data=t);this._settings.plugins.toLoad.push(e)}}}};return d}(),h=function(){function e(){this.daxname="SMPPHANTOM";return this}var t=e.prototype=new p("smp-phantom");t._name="smp-phantom";t.play=function(){};t.compatibility=function(e){return e.phantomPlayer===!0};return e}(),y=function(){function t(e){this.setSettings(e);return this}t.prototype={setSettings:function(t){var i=this;i._settings=t;var n=[f,h,g,m],a=e.get(),o="";try{o=document.cookie+""}catch(r){}var s=o.match(/bbcBumpForcePlayer=(.*?)(?:;|$)/),l=s&&s.length?s[1]:"";if("background"==t.product)i.Class=d;else if(t.threeSixty)(a.support360||/force360Support=true/i.test(o))&&(i.Class=m);else if(t.forceToucan)i.Class=g;else if(t.transcriptPlayer)i.Class=f;else if(!t.showUnsupportedMessage||""!==l)for(var c=0;n.length>c;c++){var u=n[c];if(l==u.prototype._name||""===l&&u.prototype.compatibility(t)){""!==l&&(t.playerWasForced=!0);i.Class=u;break}}i.Class&&i.Class.prototype.prepare&&i.Class.prototype.prepare(t)},decide:function(){var e=this;if(e.Class){e.player=new e.Class;e.name=e.player._name}else e.name=null;return e.player}};return t}(),v=function(){var e=0;return{error:function(t,i,n){if(i.enableRdotReporting){var a=i.customRdotBaseURL;if(a&&0===(a+"").indexOf("https://")){n="c~"+navigator.platform+(n?"~"+n:"");var o=encodeURIComponent(i.counterName),r=[a,"av","0","-","bump","1.0.0","bump",window.embeddedMedia.version,"-",e++,o,"-","-","-","-","-","-","-","-","-","-","-","-","-",t,n].join("/"),s=new Image;s.src=r;return r}}},info:function(t,i){var n=i._settings;if(n.enableRdotReporting){var a=n.customRdotBaseURL;if(a&&0===(a+"").indexOf("https://")){var o=encodeURIComponent(n.counterName),r=[a.replace("/e/","/i/"),"mediaplayout","0","-","bump",window.embeddedMedia.version,"-",e++,o,"init",i.name(),i._version||"-",t.load,t.init,t.playlist||"-"].join("/");navigator.sendBeacon&&navigator.sendBeacon(r,"")}}}}}(),b=function(){function e(e){return a(o(n(e),8*e.length))}function t(e){for(var t,i="0123456789abcdef",n="",a=0;e.length>a;a++){t=e.charCodeAt(a);n+=i.charAt(t>>>4&15)+i.charAt(15&t)}return n}function i(e){for(var t,i,n="",a=-1;++a<e.length;){t=e.charCodeAt(a);i=e.length>a+1?e.charCodeAt(a+1):0;if(t>=55296&&56319>=t&&i>=56320&&57343>=i){t=65536+((1023&t)<<10)+(1023&i);a++}127>=t?n+=String.fromCharCode(t):2047>=t?n+=String.fromCharCode(192|t>>>6&31,128|63&t):65535>=t?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):2097151>=t&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t))}return n}function n(e){for(var t=Array(e.length>>2),i=0;t.length>i;i++)t[i]=0;for(i=0;8*e.length>i;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<24-i%32;return t}function a(e){for(var t="",i=0;32*e.length>i;i+=8)t+=String.fromCharCode(e[i>>5]>>>24-i%32&255);return t}function o(e,t){e[t>>5]|=128<<24-t%32;e[(t+64>>9<<4)+15]=t;for(var i=Array(80),n=1732584193,a=-271733879,o=-1732584194,c=271733878,u=-1009589776,p=0;e.length>p;p+=16){for(var f=n,m=a,g=o,h=c,y=u,v=0;80>v;v++){i[v]=16>v?e[p+v]:d(i[v-3]^i[v-8]^i[v-14]^i[v-16],1);var b=l(l(d(n,5),r(v,a,o,c)),l(l(u,i[v]),s(v)));u=c;c=o;o=d(a,30);a=n;n=b}n=l(n,f);a=l(a,m);o=l(o,g);c=l(c,h);u=l(u,y)}return Array(n,a,o,c,u)}function r(e,t,i,n){return 20>e?t&i|~t&n:40>e?t^i^n:60>e?t&i|t&n|i&n:t^i^n}function s(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function l(e,t){var i=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(i>>16);return n<<16|65535&i}function d(e,t){return e<<t|e>>>32-t}function c(n){return t(e(i(n)))}function u(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function p(e){if(e.addEventListener){st.push(e);e.addEventListener("keydown",m)}}function f(){for(var e=0;st.length>e;e++)st[e].removeEventListener("keydown",m);st=[]}function m(e){32==e.keyCode&&e.preventDefault()}function g(){return!!tt}function h(){X="true"==b(rt,"pgAgeConfirm");tt=b(rt,"pgPIN");it="true"==b(rt,"pgUnlocked")}function y(e,t){Q=[];X=!1;this.closedCallbacks=[];this.updateCallbacks=[];this.openedCallbacks=[];nt=e||{noPlayerAction:function(){}};this.guidance={};this.isOver16=t.over16;this.isUnder16=t.under16;t.over16&&t.under16&&(this.isOver16=!1);at=t;this.usingReith=!1;this.reithEnabled=!at.ui.disableReithFonts;h();this._isLocked=g()&&!it;Y=window.embeddedMedia.language;this.updateGuidanceState();return this}function v(e,t){var i=document.getElementById(e),n=function(){i.style.transition="0.3s";t?i.style.backgroundColor=at.ui.guidance.pgColour:i.style.color=at.ui.guidance.pgColour},a=function(){i.style.transition="0.3s";t?i.style.backgroundColor=at.ui.guidance.pgBackgroundColour:i.style.color="#ffffff"};i.onmouseover=i.onfocus=n;i.onmouseout=i.onblur=a}function b(e,t){try{var i=document.cookie}catch(n){i=""}var a=i.indexOf(e+t+"=");if(a==-1)return null;a=i.indexOf("=",a)+1;var o=i.indexOf(";",a);o==-1&&(o=i.length);return unescape(i.substring(a,o))}function w(e,t,i,n){var a=new Date;a.setTime(a.getTime()+15552e6*(n?-1:1));if(!n){a.setDate(15);a.setHours(12);a.setMinutes(0);a.setSeconds(0)}var o="; expires="+a.toGMTString(),r=location.hostname;r.indexOf(".bbc.co.uk")!==-1&&(r=".bbc.co.uk");r.indexOf(".bbc.com")!==-1&&(r=".bbc.com");try{document.cookie=e+t+"="+escape(i)+o+"; Domain="+r+"; Path=/"}catch(s){}}function P(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function _(e,t){Q.push(e);e.setAttribute("tabindex","0");e.onkeydown=function(t){t=t||window.event;var i=t.keyCode||t.which;if(9==i||13==i){u(t);if(9==i){var n=Q.length-1;J=t.shiftKey?0===J?n:J-1:J===n?0:J+1;setTimeout(function(){Q[J].focus()},200)}else setTimeout(function(){et=!0;e.click()},200)}};if(t){J=Q.length-1;e.focus()}}function C(){J=0;Q=[];_($)}function k(e,t,i){t&&i&&i.isUnder16&&(X=!1);var n="";if(X){e.style.backgroundPosition="center";n=Y.t("pgAriaAgeConfirmCheckBox",K)}else{e.style.backgroundPosition="-30px";n=Y.t("pgAriaAgeConfirmCheckBoxUnchecked",K)}e.setAttribute("aria-label",n);e.textContent=e.innerText=n;e.onfocus=function(){e.style.border="2px solid "+at.ui.guidance.pgColour};e.onblur=function(){e.style.border=""}}function E(e,t,i){var n=document.getElementById("pgErrorMessage");if(n)P(n);else{n=document.createElement("div");n.id="pgErrorMessage";var a=n.style;a.width=z.style.width;a.backgroundColor=at.ui.guidance.pgSeparatorColour;a.marginTop="15px";a.marginBottom="5px";a.left="-26px";a.position="relative"}i?e.insertBefore(n,e.firstChild):e.appendChild(n);var o=document.createElement("div"),r=o.style;r.fontSize="14px";r.position="relative";r.width="100%";r.color="#ffffff";r.fontSize="11px";r.textAlign="center";r.paddingTop=r.paddingBottom="10px";o.innerHTML='<span style="display:inline-block;  background-image: url(https://emp.bbci.co.uk/emp/assets/2.1.0/alert-color.png); background-repeat: no-repeat; background-size: 100% 100%; margin-right:5px; width:15px; height:13px;"></span>'+t;n.appendChild(o)}function x(e){if(W)return!1;W=document.createElement("div");W.setAttribute("tabindex","0");W.id="parentalGuidanceBackground";W.className="smpPG";var t=W.style;t.width=t.height="5000px";t.left=t.top="-500px";t.zIndex="2147483600";t.backgroundColor="#333333";t.filter="alpha(opacity=85)";t.opacity=.85;z=document.createElement("div");z.id="guidancePopup";z.setAttribute("role","alertdialog");z.setAttribute("aria-labelledby","pgHeaderTitle");z.className="smpPG";var i=z.style;i.position=t.position="fixed";if(400>window.innerWidth){i.width=window.innerWidth-20+"px";i.left="10px"}else{i.width="390px";i.left=(window.innerWidth-390)/2+"px"}if(window.innerHeight>350){i.top="50%";i.marginTop="-175px"}else{i.top="5px";i.marginTop="0px"}i.lineHeight="normal";i.verticalAlign="middle";i.color="white";i.zIndex="2147483600";i.backgroundColor=at.ui.guidance.pgBackgroundColour;i.textAlign="left";if(document.documentElement.className.indexOf("b-reith-sans-font")>=0&&e.reithEnabled){z.className+=" font-family-sans";e.usingReith=!0}else i.fontFamily="helvetica, Arial, sans-serif";document.body.appendChild(W);document.body.appendChild(z);z.onkeydown=function(t){t=t||window.event;var i=t.keyCode||t.which;27===i&&e.close(!1)};var n=document.createElement("div");n.id="guidanceContainer";n.style.paddingRight=n.style.paddingLeft="26px";n.style.textAlign="center";z.appendChild(n);var a=document.createElement("div");a.id="pgHeaderTitle";a.style.height="42px";a.style.position="relative";a.style.marginTop="35px";n.appendChild(a);var o=document.createElement("span");o.innerHTML=Y.t("pgHeader",K);o.id="pgHeader";o.style.fontSize="24px";o.style.color=at.ui.guidance.pgColour;a.appendChild(o);V=document.createElement("div");V.id="guidanceBody";V.style.position="relative";V.style.width="100%";n.appendChild(V);q=document.createElement("div");q.id="guidanceFooter";var r=q.style;r.width="100%";r.height="42px";r.bottom="0px";r.display="table";r.textAlign="center";z.appendChild(q);$=document.createElement("a");$.setAttribute("aria-label",Y.t("pgClose",K));$.id="pgExit";var s=$.style;$.title=Y.t("pgClose",K);s.position="absolute";s.right=s.top="12px";s.cursor="pointer";s.width=s.height="18px";s.backgroundImage="url(https://emp.bbci.co.uk/emp/assets/2.1.0/GEL_Remove_icon.png)";s.backgroundRepeat="no-repeat";z.appendChild($);p($);var l=!1;setTimeout(function(){l=!0},500);$.onclick=function(t){if(l){t=t||window.event;u(t);O(!1,this.id);e.close(!1)}};$.onfocus=function(){$.style.border="2px solid "+at.ui.guidance.pgColour};$.onblur=function(){$.style.border=""};return!0}function S(e){var t=document.createElement("div"),i=t.style;i.marginTop="-1px";i.position="absolute";i.width="100%";i.height="1px";i.backgroundColor=at.ui.guidance.pgSeparatorColour;e.appendChild(t)}function I(e,t){function i(){if(r){O(!1,n.id);s()}}var n=document.createElement("a");n.id=t.id;n.textContent=n.innerText=t.text;n.setAttribute("aria-label",t.text+" button");var a=n.style;a.cursor="pointer";try{a.display="table"}catch(o){a.display="block"}a.verticalAlign="middle";a.width="100%";a.lineHeight="3.5";a.fontSize="14px";a.color="#ffffff";a.backgroundColor=at.ui.guidance.pgBackgroundColour;q.appendChild(n);v(t.id,!0);p(n);var r=!1;setTimeout(function(){r=!0},500);var s=t.clickFunction;n.onclick=i;_(n,t.focus);return n}function T(e,t,i){P(q);S(q);var n=I(e,t);if(i){n.style.borderBottom="1px solid "+at.ui.guidance.pgSeparatorColour;I(e,i)}}function L(e,t){P(V);C();var i=document.createElement("div");i.id="guidanceMessage";var n=i.style;n.marginTop="15px";n.marginBottom="5px";n.width="100%";n.position="relative";n.fontSize="13px";V.appendChild(i);A("newAgeConfirmationTitle");var a=document.createElement("div");a.id="guidanceG";var o=a.style;o.display="inline-block";o.margin="auto";o.borderRadius="50%";o.width=o.height="15px";o.backgroundColor="#E51854";o.position="relative";o.top="-2px";o.fontSize="12px";e.usingReith&&(o.lineHeight="1px");i.appendChild(a);var r=document.createElement("span");r.innerHTML="G";var s=r.style;s.lineHeight="normal";s.position="relative";s.left="-0.5px";s.top="1px";s.color="#ffffff";s.fontFamily="Arial, Helvetica, freesans, sans-serif";e.usingReith&&(s.left="0");a.appendChild(r);var l=document.createElement("span");l.id="guidanceText";l.textContent=l.innerText=t;if(e.isUnder16){l.appendChild(document.createElement("br"));l.appendChild(document.createElement("br"));var d=document.createElement("span");d.textContent=d.innerText=Y.t("newUnder16WithPermission",K);l.appendChild(d)}s=l.style;s.left="0px";s.top="16px";s.marginLeft="5px";s.lineHeight="16px";s.color="#b2b7c4";i.appendChild(l);var c=document.createElement("div");c.id="ageConfirm";var u=c.style;u.width="100%";u.height="57px";u.position="relative";u.fontSize="14px";u.color="#ffffff";u.display="-ms-inline-flexbox";u.justifyContent="center";V.appendChild(c);var p=document.createElement("button");p.id="ageConfirmCheck";var f=p.style;f.background="url(https://emp.bbci.co.uk/emp/assets/2.1.0/tick.png) no-repeat center";
f.backgroundPosition="-30px";f.position="absolute";f.top="16px";f.height=f.width="25px";f.verticalAlign="middle";f.cursor="pointer";f.backgroundColor="#ffffff";f.borderWidth="0";f.textIndent="-9999px";f.whiteSpace="nowrap";f.overflow="hidden";c.appendChild(p);_(p,!0);k(p,!0,e);var m=document.createElement("span");m.innerHTML=e.isUnder16?Y.t("newPgAgeConfirmationUnder16",K):Y.t("pgAgeConfirmation",K);m.style.position="relative";m.style.top="20px";m.style.marginLeft="35px";c.appendChild(m);var g=!1;setTimeout(function(){g=!0},500);p.onclick=function(){if(g){X=!X;k(p)}};var h=function(){if(e.isUnder16&&X){e.storeAgeConfirmation();e.setUnder16Permission(!0);e.updateGuidanceState();e.close(!0)}else if(X)M(e);else{var t=e.isUnder16?Y.t("pgUnder16PermissionValidationError",K):Y.t("pgPasswordValidationError",K);E(i,t,!1)}},y=e.isUnder16?Y.t("newPgPlay",K):Y.t("pgContinue",K);T(e,{id:"pgAgeContinue",text:y,clickFunction:h})}function A(e){var t=document.getElementById("pgHeader");t.textContent=t.innerText=Y.t(e,K)}function M(e){P(V);C();var t=document.createElement("div");t.setAttribute("role","alertdialog");t.setAttribute("aria-labelledby","pgInfoHeader");t.setAttribute("aria-describedby","pgInfo");t.style.marginBottom="24px";V.appendChild(t);A("newPgTurnOnParentalGuidance");if(Z)var i="pgInfo",n="pgUnlock";else{var a=e._intent;if("download"==a){i="pgInfoPlusDownload";n="pgDownload"}else if("play"==a){i="pgInfoPlusPlay";n="newToolTipPlay"}else{i="pgInfo";n=a}}var o=document.createElement("div");o.id="infoLinkContainer";var r=document.createElement("div");r.style.color="#b2b7c4";var s=Y.t("notSuitableForChildMessage",K)+'</br> </br>  <a id="pgLink" target="_blank" style="color:#ffffff; text-decoration:none; font-size:0.9em;" href="//www.bbc.co.uk/iplayer/guidance">'+' <div style="display:inline-block; margin-right: 5px; color:black; font-weight:bold; width:13px; height:13px; background-color:white; border-radius:50px;font-family: Arial, Helvetica, freesans, sans-serif;">i</div>'+Y.t("findOutMore",K)+"</a> ",l=document.createElement("div");l.id="pgInfo";l.style.fontSize="13px";l.style.color="#868686";l.style.marginTop="35px";t.appendChild(l);l.appendChild(o);o.style.margin=" 0 auto";o.appendChild(r);r.innerHTML=s;var d=document.getElementById("pgLink");d.setAttribute("aria-label",Y.t("findOutMore",K));d.style.outline="none";p(d);r.style.display="inline-block";o.style.textAlign="center";var c=l.getElementsByTagName("p");if(c)for(var u=0;c.length>u;u++){c[u].style.color="#868686";c[u].style.fontSize="13px"}var f=document.getElementById("pgLink"),m=!1;setTimeout(function(){m=!0},500);f.onclick=function(){return m};_(f,!0);var g=function(){if(m){e.storeAgeConfirmation();B(e)}},h=function(){if(m){e.storeAgeConfirmation();e.close(!0)}},y={id:"pgTurnOn",text:Y.t("newPgTurnOn",K),clickFunction:g},b={id:"toolTipPlay",text:Y.t(n,K),clickFunction:h};T(e,y,Z?null:b);v("pgLink")}function N(e){var t=document.createElement("div");t.id="pinEntry";t.style.width="100%";t.style.height="40px";t.style.marginBottom="20px";e.appendChild(t);var i=document.createElement("input");i.id="pinEntryInputBox";var n=i.style;i.setAttribute("maxlength",4);n.letterSpacing="5px";n.display="block";n.margin="0 auto";n.height="100%";n.width="60%";n.padding="0px";n.resize="none";n.color="#868686";n.fontSize="30px";n.textAlign="center";i.setAttribute("type","password");i.pattern="[0-9]*";t.appendChild(i);return i}function O(e,t){nt.noPlayerAction(et||e?"key_press":"click",t,null,at);et=!1}function D(e,t){var i=!1,n=function(n){n=n||window.event;var a=n.keyCode||n.which;if(13===a&&i){O(!0,e.id);setTimeout(t,300)}};setTimeout(function(){i=!0},400);e.addEventListener?e.addEventListener("keyup",n):e.onkeyup=n}function B(e){P(V);C();A("newPgTurnOnParentalGuidancePINsection");var t=document.createElement("div");t.id="activatePIN";t.style.marginTop="35px";t.style.fontSize="14px";t.style.color="#ffffff";V.appendChild(t);var i=document.createElement("span");i.innerHTML=Y.t("newPgEnterPIN",K);i.style.fontSize="14px";i.style.color="#ffffff";t.appendChild(i);var n=document.createElement("div");n.innerHTML='<span style="color:#b2b7c4;">'+Y.t("newPgActivateInfo",K)+"</span>";n.id="activatePINInfo";n.style.marginTop="10px";n.style.marginBottom="24px";n.style.fontSize="14px";n.style.color="#868686";V.appendChild(n);var a=N(V);a.setAttribute("aria-label",Y.t("pgAriaPINEntryDescription",K)+"."+Y.t("pgAriaPINPrompt",K));_(a,!0);var o=function(){if(/^\d{4}$/.test(a.value)){e.setPIN(a.value);e.setLocked(Z);e.close(!Z)}else{a.value="";E(n,Y.t("newPgPINvalidationError",K),!1);a.focus()}},r=j(e._intent,"pgActivate");D(a,o);T(e,{id:"pgActivate",text:Y.t(r,K),clickFunction:o})}function R(e,t){var i=document.createElement("div");i.style.marginBottom="20px";i.style.width="100%";i.style.height="15px";e.appendChild(i);var n=document.createElement("a");n.setAttribute("target","_blank");n.setAttribute("href","//www.bbc.co.uk/iplayer/guidance");n.id="manageLock";n.innerHTML=t;n.style.color="#ffffff";n.style.textDecoration="none";n.style.width="100%";n.style.fontSize="12px";n.style.bottom="0px";n.style.textAlign="center";i.appendChild(n);v("manageLock");p(n);return n}function U(e){P(V);C();A("newPgTurnOnParentalGuidanceInsertPIN");var t=document.createElement("div"),i=document.createElement("div"),n=document.createElement("span"),a=document.createElement("div");a.id="needPINinfo";t.id="enterPIN";n.innerHTML=Y.t("newPgEnterPINprompt",K);t.style.marginTop=t.style.paddingBottom="16px";t.style.width="100%";t.style.position="relative";t.style.fontSize=n.style.fontSize="14px";n.style.color="#ffffff";t.style.marginTop=330>z.offsetWidth?"25px":"5px";V.appendChild(t);t.appendChild(i);i.appendChild(n);t.appendChild(a);a.innerHTML=Y.t("newPgEnterPINinfo",K);a.style.color="rgb(134, 134, 134)";a.style.marginTop="15px";var o=N(V);o.setAttribute("aria-label",Y.t("pgAriaPINEntryDescription",K)+"."+Y.t("newPgEnterPINprompt",K));_(o,!0);var r=R(V,Y.t("newPgManageYourPIN",K));_(r);r.onclick=function(){return s};var s=!1;setTimeout(function(){s=!0},500);var l=function(){if(s)if(e.verifyPIN(o.value)){Z&&w(rt,"pgUnlocked","true");e.isUnder16&&e.setUnder16Permission(!0);e.setLocked(!1);e.close(!0)}else{o.value="";E(a,Y.t("newPgIncorrectPIN",K),!1);o.focus()}};D(o,l);var d=j(e._intent,"pgUnlock");T(e,{id:"pgTurnOff",text:Y.t(d,K),clickFunction:l})}function F(){dt++;clearTimeout(ot);ot=setTimeout(H,100);setTimeout(G,300)}function j(e,t){return Z?t:"download"==e?"pgDownload":"play"==e?"toolTipPlay":e}function H(){if(W){var e=W.style;e.left=e.top="-500px";e.height=e.width="5000px"}if(z){var t=Math.floor(window.innerWidth/2-z.offsetWidth/2);(0>t||dt>0)&&(t=0);window.innerWidth>=400&&(z.style.left=t+"px");var i=window.innerHeight-z.offsetHeight;if(window.innerHeight>=z.offsetHeight){var n=Math.floor(i/2);(dt>0||5>n)&&(n=5)}else n=2;z.style.marginTop="0px";z.style.top=n+"px"}}function G(){var e=document.getElementById("pgHeader"),t=document.getElementById("pgInfo"),i=document.getElementById("pgHeaderTitle"),n=document.getElementById("enterPIN"),a=document.getElementById("pinEntry"),o=document.getElementById("pgErrorMessage"),r=document.getElementById("needPINinfo"),s=document.getElementById("activatePIN"),l=document.getElementById("activatePINInfo"),d=document.getElementById("pinEntryInputBox");if(z.offsetHeight>window.innerHeight){t&&(t.style.marginTop="10px");z.style.width=window.innerWidth-20+"px";e.style.fontSize="22px";z.style.left="10px";if(i){i.style.marginTop="10px";i.style.height="35px"}s&&(s.style.marginTop="0");if(n){n.style.marginTop=330>z.offsetWidth?"25px":"5px";n.style.marginBottom="5px";n.style.paddingBottom="0"}a&&(a.style.marginBottom="10px");d&&(d.style.width="30%");if(o){o.style.marginTop="5px";o.style.width=window.innerWidth-20+"px";o.style.marginLeft="0px";o.style.left="-26px";l&&(l.style.marginBottom="5px")}if(r){r.style.marginTop="5px";r.style.marginBottom="5px"}}else{z.style.left=(window.innerWidth-z.offsetWidth)/2+"px";if(i){i.style.marginTop="35px";i.style.height="42px"}s&&(s.style.marginTop="35px");a&&(a.style.marginBottom="15px");d&&(d.style.width="60%");if(420>window.innerWidth){z.style.width=window.innerWidth-20+"px";z.style.left="10px";t&&(t.style.marginTop="35px");if(o){o.style.marginTop="15px";o.style.width=window.innerWidth-20+"px";o.style.marginLeft="0px";o.style.left="-26px";l&&(l.style.marginBottom="24px")}}r&&(r.style.marginTop="15px");if(n){n.style.marginTop=330>z.offsetWidth?"25px":"5px";n.style.paddingBottom="16px"}}}var W,z,V,q,$,K,Y,J,Q,X,Z,et,tt,it,nt,at,ot,rt="ckns_",st=[],lt=!1,dt=0;y.prototype={show:function(e,t,i,n){var a=this;K=i;h();e||(e={});Z=e.lockClicked;a._intent=e.intent||"play";window.embeddedMedia.opened({type:"guidanceShown",intent:a._intent});if(n)for(var o=0;a.openedCallbacks.length>o;o++)a.openedCallbacks[o]();var r=X&&(!g()||!a._isLocked);a.isOver16&&(X=!0);if(!r||Z||a.isUnder16){if(x(a)){g()&&!it&&!this.guidance.under16permissionConfirmed&&this._isLocked?U(a):Z&&r||a.isOver16?M(a):L(a,e.guidance);document.body.addEventListener&&document.body.addEventListener("touchmove",u);dt=0;if(window.addEventListener){window.addEventListener("resize",H);window.addEventListener("orientationchange",F)}}}else a.close(!0)},close:function(e,t){var i=this;document.body.removeEventListener&&document.body.removeEventListener("touchmove",u);if(window.removeEventListener){window.removeEventListener("resize",H);window.removeEventListener("orientationchange",F)}f();if(W){W.parentNode.removeChild(W);W=void 0}if(z){z.parentNode.removeChild(z);z=void 0}if(!t){var n={type:"guidanceClosed"};n.success=e;window.embeddedMedia.closed(n);for(var a=0;i.closedCallbacks.length>a;a++)i.closedCallbacks[a](e)}},setPIN:function(e){tt=c("smpembed"+e);w(rt,"pgPIN",tt)},setLocked:function(e,t){if(t){w(rt,"pgUnlocked",e?"":"true");it=!e}this._isLocked=e;this.updateGuidanceState()},verify:function(e,t){var i=this.verifyPIN(e.verifyPIN);if(i){this.setLocked(!1);e.lockClicked&&w(rt,"pgUnlocked","true")}t(i)},verifyPIN:function(e){return c("smpembed"+e)===tt},setAgeConfirmation:function(e){X=e;this.storeAgeConfirmation()},storeAgeConfirmation:function(){if(!this.isUnder16){w(rt,"pgAgeConfirm",X);this.setLocked(!0)}},setUnder16Permission:function(e){lt=e;this.updateGuidanceState()},updateGuidanceState:function(){var e=this.guidance;e.isGuidanceLocked=this._isLocked&&g()&&!it;e.hasGuidancePIN=g();e.guidanceSkipped=X&&!g();e.guidancePINPassed=!this._isLocked&&g();e.under16permissionConfirmed=lt;e.canPlay=e.guidanceSkipped||e.hasGuidancePIN&&e.guidancePINPassed||it;!this.isUnder16||e.isGuidanceLocked&&!e.guidancePINPassed||e.under16permissionConfirmed||(e.canPlay=!1);for(var t=0;this.updateCallbacks.length>t;t++)this.updateCallbacks[t](e)}};return y}(),w=function(){var e,t=!1;return{addCloseSettingsPanelsListener:function(){if(!t){var n=this;e=function(e){for(var t=document.querySelectorAll(".p_dontCloseSettingsPanel"),i=0;t.length>i;i++)if(t[i]==e.target||t[i].contains(e.target))return;n.closeSettingsPanels()};i.upAction(document,e,!0);t=!0}},removeCloseSettingsPanelsListener:function(){i.removeUpAction(document,e,!0);t=!1},closeSettingsPanels:function(){for(var e=0;window.embeddedMedia.players.length>e;e++){window.embeddedMedia.players[e].playbackSettingsPanel&&window.embeddedMedia.players[e].playbackSettingsPanel.close();window.embeddedMedia.players[e].call("closedSettingsPanels")}this.removeCloseSettingsPanelsListener()},insertSettingsOverlay:function(){var e=document.getElementById("p_settingsOverlay");if(!e){e=document.createElement("div");e.id="p_settingsOverlay";i.upAction(e,function(e){e.preventDefault()});document.body.appendChild(e);this.settingsOverlay=e}},showOverlay:function(e){this.settingsOverlay.style.backgroundColor=e;i.className(this.settingsOverlay,"p_showing")},hideOverlay:function(){i.className(this.settingsOverlay,"","p_showing")}}}(),P=function(){function e(e){var t=e.playbackSettingsContainer=document.createElement("div");t.id="p_playbackSettingsContainer_"+e.id;t.className="p_playbackSettingsContainer p_dontCloseSettingsPanel p_bumpUI";t.style.display="none";var n=document.createElement("div");n.className="p_playbackSettingsContainerInner";var a=document.createElement("div");a.className="p_playbackSettingsHeading";a.textContent=window.embeddedMedia.language.t("playbackSettingsHeading",e.settings.locale());var r=document.createElement("div");r.className="p_playbackSettingsColumn";var s=e.toggleSetting=new o(e.settings,"p_autoplayToggle",null,"",window.embeddedMedia.language.t("autoplaySettingHeading",e.settings.locale()),window.embeddedMedia.language.t("autoplaySettingSubheading",e.settings.locale()));s.attachChangeListener(function(t,i){if("turningOn"==t){e.player.settings({continuousPlay:!0});e.player.sonar.action("playback_settings_continuous_play_toggle_on",i)}else{e.player.settings({continuousPlay:!1});e.player.sonar.action("playback_settings_continuous_play_toggle_off",i)}});var l=e.toggleSettingElement=s.getDomNodes()[0],d=document.createElement("div");d.className="p_playbackSettingsContainer_downArrow";var c=document.createElement("button");c.textContent="Close playback settings panel";c.id="p_playbackSettingsContainer_startFocusPusher";i.multiAddEventListener(c,"focus click",function(){if(e.bottomPanelMode){e.close();e.player.trigger({type:"focusPlaybackSettingsButton"})}else e.close(!0)});var u=document.createElement("button");u.textContent="Close playback settings panel";u.id="p_playbackSettingsContainer_endFocusPusher";i.multiAddEventListener(u,"focus click",function(){if(e.bottomPanelMode){e.close();e.player.trigger({type:"focusPlaybackSettingsButton"})}else e.close(!0)});n.appendChild(c);n.appendChild(a);n.appendChild(r);r.appendChild(l);n.appendChild(u);t.appendChild(n);t.appendChild(d);document.body.appendChild(t);w.insertSettingsOverlay()}function t(e){e.settings.continuousPlay?e.toggleSetting.setOn():e.toggleSetting.setOff();e.toggleSettingElement.style.display=e.settings.ui.playbackSettingsPanel&&e.settings.ui.playbackSettingsPanel.continuousPlaySetting?"block":"none"}function n(n){var a=this;i.getBumpStylesheet();this.id=n._settings.domid;this.player=n;this.settings=this.player._settings;e(this);i.nonPointerFocusListeners.addNonPointerFocusListeners();this.player._settings.addSettingsChangedListener(function(){t(a)});t(a);window.addEventListener("resize",function(){a.isShowing()&&a.player.call("repositionBumpPlaybackSettingsPanel")})}n.prototype.showPanel=function(e,t){this.bottomPanelMode=!1;w.closeSettingsPanels();w.addCloseSettingsPanelsListener();this.playbackSettingsContainer.style.display="";i.className(this.playbackSettingsContainer,"p_panel p_showing","p_bottomPanel");this.playbackSettingsContainer.style.top=this.player.getTop()+t-this.playbackSettingsContainer.offsetHeight+"px";this.playbackSettingsContainer.style.left=this.player.getLeft()+e-this.playbackSettingsContainer.offsetWidth+"px";this.player.call("bumpSettingsPanelOpen",{type:"playbackSettings"});this.player.trigger({type:"playbackSettingsPanelOpen"})};n.prototype.repositionPanel=function(e,t){var i=this,n=i.player._container.clientWidth;if(i.bottomPanelMode)(n>599||i.settings.ui.threeRows&&n>150)&&e&&t&&i.showPanel(e,t);else if(199>n)i.showBottomPanel();else{i.playbackSettingsContainer.style.top=i.player.getTop()+t-i.playbackSettingsContainer.offsetHeight+"px";i.playbackSettingsContainer.style.left=i.player.getLeft()+e-i.playbackSettingsContainer.offsetWidth+"px"}};n.prototype.showBottomPanel=function(){var e=this;this.bottomPanelMode=!0;w.closeSettingsPanels();w.showOverlay(this.settings.ui.playbackSettingsPanel.overlayColour);w.addCloseSettingsPanelsListener();this.playbackSettingsContainer.style.display="";i.className(this.playbackSettingsContainer,"p_bottomPanel p_showing","p_panel");this.playbackSettingsContainer.style.top="";this.playbackSettingsContainer.style.left="";e.focus();this.player.call("bumpSettingsPanelOpen",{type:"playbackSettings"});this.player.trigger({type:"playbackSettingsPanelOpen"})};n.prototype.close=function(e){if(i.hasClass(this.playbackSettingsContainer,"p_showing")){i.className(this.playbackSettingsContainer,"","p_showing");w.hideOverlay();this.player.trigger({type:"playbackSettingsPanelClosed"});this.player.call("closedPlaybackSettingsPanel",{focusButton:!!e})}};n.prototype.focus=function(){this.toggleSettingElement.focus()};n.prototype.isShowing=function(){return i.hasClass(this.playbackSettingsContainer,"p_showing")};n.prototype.setNonPointerFocus=function(){i.className(this.playbackSettingsContainer,"nonPointerFocus")};n.prototype.removeNonPointerFocus=function(){i.className(this.playbackSettingsContainer,"","nonPointerFocus")};return n}(),_=function(){function e(e,t){t=t||{};try{var i=[];if(e.media){var n=e.media.getVersionId()||e.media.getServiceId()||e.media.getVpId()||e.media.getNonPipsContentId();n&&i.push("PID="+n)}if(e.player){var a=e.player;if(t.includeVolume){i.push("VOL="+(11*a.volume()).toFixed(0));delete t.includeVolume}if(t.playState!==!1){var o="unknown",r=a.player;r._seeking?o="seeking":r._ended&&(o="ended");"unknown"==o&&(r._paused?o="paused":r._playing&&(o="playing"));i.push("PST="+o)}i.push("VPF="+e._windowState);delete t.playState;delete t.time}}catch(s){console.log("SON",s)}t.metadata||(t.metadata=i.join("~").substr(0,250));return t}function t(){var e=this;this.duration=0;this.isLive=!1;this.hasPlayed=!1;this.hasInitiated=!1;this.hasSetMediaItem=!1;this.oldProperties=[];this.sessionProperties={};this._windowState="in-situ";return e}function i(e,t){for(var i in e)e.hasOwnProperty(i)&&"undefined"!=typeof e[i]&&(t[i]=e[i]);return t}function n(e){var t=!1,i=e.counterName+"";i.indexOf("iplayer.tv")>=0&&(t=!0);return e.enableBarbReporting||t&&e.enableBarbReporting!==!1}function a(e,t){if(e._echo){t||(t={connections:[]});e.delayedMediaSet||e.end();e.durationSet=!1;e.isLive=t.isLive;var i=e.isLive?c.MediaConsumptionMode.LIVE:c.MediaConsumptionMode.ON_DEMAND,n="audio"==t.type?c.AvType.AUDIO:c.AvType.VIDEO,a=e.player.player._statsObject||{};a.overrideConsumptionMode&&(i=a.overrideConsumptionMode);var o=e.media=new r(n,i),s=t.identifier,l=t.versionID,d=t.serviceID;a.overrideVersionPID&&(l=a.overrideVersionPID);if(s)l||d||o.setVpId(s);else if(a.nonPipsContentId)o.setNonPipsContentId(a.nonPipsContentId);else if(a.playlistURL){var u=(a.playlistURL+"").replace(/\W+/gim,"-");o.setNonPipsContentId(u)}l&&o.setVersionId(l);d&&o.setServiceId(d);e.playlistName&&o.setPlaylist(e.playlistName);e.title&&o.setName(e.title);if(e.parentPID){e.parentPIDType==c.PIPsType.EPISODE&&o.setEpisodeId(e.parentPID);e.parentPIDType==c.PIPsType.CLIP&&o.setClipId(e.parentPID)}if(e.episodePID){o.setType(c.PIPsType.EPISODE);o.setEpisodeId(e.episodePID)}if(e.clipPID){o.setType(c.PIPsType.CLIP);o.setClipId(e.clipPID)}e.brandPID&&o.setBrand(e.brandPID);e.seriesPID&&o.setSeries(e.seriesPID);var p=e.player.player.playlist;p&&p.masterbrand&&p.masterbrand.id&&o.setProducerByMasterbrand(p.masterbrand.id);a.producer&&o.setProducer(a.producer);a.wsPartnerId&&o.setWsPartnerId(a.wsPartnerId);a.castingDeviceReferrer&&o.setCastingDeviceReferrer(a.castingDeviceReferrer);p&&p.hasAds&&o.setAdsEnabled(!0);e.player._settings.embeddedOffsite&&o.setIsEmbedded(!0);try{e.echo.setMedia(o);e.hasSetMediaItem=!0}catch(f){e.hasSetMediaItem=!1;console.log("SON",f)}}else e.delayedMediaSet=!0}var o,r,s,l,d,c={WindowState:{}};t.prototype={initComplete:function(e){var t=this;if(!t.delayed){t.delayed=[];var i=function(e){return function(){var i=arguments;t.delayed.push(function(){t.echo[e]&&t.echo[e].apply(t.echo,i)})}};t.echo={userActionEvent:i("userActionEvent"),setMedia:i("setMedia"),setMediaPlayer:i("setMediaPlayer"),setMediaLength:i("setMediaLength"),setPlayerVersion:i("setPlayerVersion"),setPlayerName:i("setPlayerName"),setCounterName:i("setCounterName"),addProperty:i("addProperty"),setPlayerIsSubtitled:i("setPlayerIsSubtitled"),setPlayerLocation:i("setPlayerLocation"),setPlayerPlaybackSpeed:i("setPlayerPlaybackSpeed"),setPlayerVolume:i("setPlayerVolume"),setPlayerWindowState:i("setPlayerWindowState"),setProducer:i("setProducer"),setPlayerPosition:i("setPlayerPosition"),setPlayerLaunchReason:i("setPlayerLaunchReason"),setPlayerAutoMode:i("setPlayerAutoMode"),setProducerByMasterbrand:i("setProducerByMasterbrand"),avPlayEvent:i("avPlayEvent"),avPlayInitiatedEvent:i("avPlayInitiatedEvent"),avPauseEvent:i("avPauseEvent"),avEndEvent:i("avEndEvent"),avSeekEvent:i("avSeekEvent"),avBufferEvent:i("avBufferEvent")}}if(s&&!t._echo){var r=e._settings,d=e.name().replace(/-/gm,""),u=r.appName&&""!==r.appName?r.appName:d,p=r.appType&&""!==r.appType?r.appType:c.ApplicationType.WEB,f={},m=e.player._statsObject||{};f[l.COMSCORE_ENABLED]=!1;r.liveEnvironment||(f[l.DEBUG_MODE]="info");f[l.BARB_ENABLED]=n(r);f[l.BARB_DEBUG]=!1;f[l.BARB_SITE_CODE]=r.liveEnvironment?"bbcdotcom":"bbcdotcomtest";t.bbcComOption&&(f[l.KEEPALIVE_DURATION]=2147483647);var g=m.echoProfile||"public_service";f[l.REPORTING_PROFILE]=g;f[l.USE_ESS]=!0;if(!r.liveEnvironment){f[l.ESS_HOSTNAME]="ess.test.api.bbci.co.uk";f[l.REMOTE_CONFIG_URL]="https://mybbc-analytics.stage.files.bbci.co.uk/analytics-remote-config/"}f[l.ATI_ENABLED]=r.enableAtiReporting;f[l.ATI_FORCE_HTTPS]=!0;m.deviceId&&(f[l.ECHO_DEVICE_ID]=m.deviceId);m.destination&&(f[l.DESTINATION]=m.destination);var h=function(){var i=t._echo;t.echo=i;o&&i.setMediaPlayer(new o);r.appVersion&&i.setAppVersion(r.appVersion);try{t.player.player._version&&t.echo.setPlayerVersion(t.player.player._version)}catch(n){}t.processNewSettings();t.volume(e.volume());i.setPlayerPlaybackSpeed&&i.setPlayerPlaybackSpeed(1);try{i.setPlayerName(d)}catch(n){}i.setPlayerDelegate({getPosition:function(){return t.currentTime()},getTimestamp:function(){return t.currentTime(!0)}});if(t.delayedMediaSet){a(t,t.player.player._mediaItem);t.delayedMediaSet=!1}for(var s=0;t.delayed.length>s;s++)t.delayed[s]()};try{t._echo=new s(u,p,f,null,h)}catch(y){console.log("SON",y)}}},report:function(e,t){var i=this;if(i.hasSetMediaItem||i.delayedMediaSet){isNaN(t)||!i.bbcComOption?t=i.currentTime():i.isLive&&(t=0);i.echo["av"+e+"Event"](t);var n=i.player._settings;n.liveEnvironment||console.log("av"+e+"Event",t)}},noPlayerAction:function(e,t,n,a){var o=this;if(o.echo)o.action(e,t,n);else{if(!o.nonPlayerEcho&&s){a||(a={});var r={};r[l.REPORTING_PROFILE]="public_service";var d=a.appName&&""!==a.appName?a.appName:name,u=a.appType&&""!==a.appType?a.appType:c.ApplicationType.WEB;o.nonPlayerEcho=new s(d,u,r);o.nonPlayerEcho.setCounterName(a.counterName||"smp.no-player.page")}o.nonPlayerEcho&&o.nonPlayerEcho.userActionEvent(e,t,i(n,{}))}},end:function(){(this.hasPlayed||this.hasInitiated)&&this.report("End")},action:function(e,t,n){var a=this;a.echo&&a.echo.userActionEvent(e,t,i(n,{}))},newPlayer:function(e,t){var i=this;i.player=e;if(t||i.boundEvents){i.boundEvents=!0;var n=t?"bind":"unbind";e[n]("durationchange initialised mediaItemChanged SonarInitiatedEvent playing playlistLoaded loadedmetadata playlistLoading SonarSeekingEvent SonarAdEvent SonarEndEvent SonarPauseEvent SonarPlayEvent SonarBufferEvent error SonarResumeEvent SonarSeekEvent SonarUserActionEvent volumechange uiinfo fullscreenEnter fullscreenExit picInPicStarted picInPicStopped statsConfigChanged ratechange",{sonarReporter:i},i.eventHandler);i.initComplete(e)}},init:function(e,t,i){var n=this;n.bbcComOption=i;var a=function(e){if(e){o=e.MediaPlayer;r=e.Media;s=e.EchoClient;c=e.Enums;l=e.ConfigKeys;d=e.Environment;if(r&&s&&c&&l&&d){var t=n.player;if(t){t._settings.liveEnvironment||e.Debug.enable();n.initComplete(t)}}}};if(window.require&&require.config){var u={},p="13.3.1",f="echo-"+p;if(i){f="echo-2.5.1-avi";u[f]="https://mybbc-analytics.files.bbci.co.uk/echo-client-js/echo-"+"2.5.1-avi"+(e?"":".min")}else u[f]="https://mybbc-analytics.files.bbci.co.uk/echo-client-js/echo-"+p+(e?"":".min");var m=!1;try{var g=require.s.contexts._.config.paths;for(var h in g)if(g.hasOwnProperty(h)&&g[h]==u[f]){m=!0;f=h}}catch(y){}m||require.config({paths:u});require([f],a)}else try{a(window.echo_js)}catch(y){}},eventHandler:function(t,i){var n=i||t.data.sonarReporter;if(n.echo){var o=n.echo;switch(t.type){case"durationchange":if(n.media&&!n.isLive&&t.duration>0&&!n.durationSet){o.setMediaLength(1e3*t.duration);n.durationSet=!0}break;case"initialised":n.player.player._version&&o.setPlayerVersion(n.player.player._version);break;case"mediaItemChanged":n.hasPlayed=!1;n.hasInitiated=!1;a(n,t.mediaItem);break;case"SonarInitiatedEvent":if(o.avPlayInitiatedEvent&&!n.hasInitiated){n.hasInitiated=!0;n.report("PlayInitiated");n.report("Buffer")}break;case"loadedmetadata":break;case"playing":n.hasPlayed=!0;break;case"playlistLoaded":n.processNewSettings();break;case"playlistLoading":n.end();break;case"ratechange":o.setPlayerPlaybackSpeed&&o.setPlayerPlaybackSpeed(t.playbackRate);break;case"SonarSeekingEvent":n.report("Seek",Math.round(1e3*t.before));n.hasPlayed&&!n.player.paused()&&n.report("Buffer");break;case"error":if(t){if("critical"==t.severity){n.end();n.hasPlayed=!1;n.hasInitiated=!1;a(n,n.player.player._mediaItem)}(2200==t.code||2210==t.code)&&n.report("Pause")}break;case"SonarAdEvent":var r=n.currentTime(),s=t.detail;o["avAd"+s.report](r,s.labels);break;case"SonarEndEvent":case"SonarPauseEvent":n.report("Pause");break;case"SonarPlayEvent":case"SonarResumeEvent":n.report("Play");break;case"SonarBufferEvent":n.hasPlayed&&n.report("Buffer");break;case"SonarSeekEvent":n.player.paused()?n.bbcComOption&&n.report("Pause"):n.report("Play");break;case"SonarUserActionEvent":n.action(t.actionType,t.controlId,e(n,t.labels));break;case"volumechange":n.volume(t.muted?0:t.volume);break;case"uiinfo":o.setPlayerIsSubtitled(!!t.subtitles);break;case"fullscreenEnter":n._windowState="fullscreen";o.setPlayerWindowState(c.WindowState.FULL);break;case"fullscreenExit":case"picInPicStopped":n._windowState="in-situ";o.setPlayerWindowState(c.WindowState.NORMAL);break;case"picInPicStarted":n._windowState="picture-in-picture";o.setPlayerWindowState(c.WindowState.PICTUREINPICTURE);break;case"statsConfigChanged":t.counterName&&(n.player._settings.counterName=t.counterName)}}},volume:function(e){var t=this;e>=0&&1>=e&&t.echo.setPlayerVolume(Math.floor(100*e))},processNewSettings:function(){if(s){var e=this,t=e.player._settings,i=e.player.player._statsObject||{},n=e.player.player.playlist;e.echo.setCounterName(t.counterName);n&&n.masterbrand&&n.masterbrand.id&&e.echo.setProducerByMasterbrand(n.masterbrand.id);e.echo.setPlayerLocation&&e.echo.setPlayerLocation(e.player._settings.embeddedOffsite?"external":"internal");i.playerPosition&&e.echo.setPlayerPosition&&e.echo.setPlayerPosition(i.playerPosition);i.launchReason&&e.echo.setPlayerLaunchReason&&e.echo.setPlayerLaunchReason(i.launchReason);i.playbackAutoStarted!==!1&&i.playbackAutoStarted!==!0||!e.echo.setPlayerAutoMode||e.echo.setPlayerAutoMode(i.playbackAutoStarted);i.producer&&e.echo.setProducer(i.producer);e.parentPID=i.parentPID;e.parentPIDType=c.PIPsType.EPISODE;e.episodePID=i.episodePID;e.clipPID=i.clipPID;e.brandPID=i.brandPID;e.seriesPID=i.seriesPID;e.playlistName=i.playlistName;e.playlistLabels=i.playlistLabels;if(e.oldProperties.length>0){e.echo.removeProperties(e.oldProperties);e.oldProperties=[]}if(i.playlistLabels)for(var a in i.playlistLabels)if(i.playlistLabels.hasOwnProperty(a)){e.echo.addProperty(a,i.playlistLabels[a]);e.oldProperties.push(a)}if(i.sessionLabels)for(a in i.sessionLabels)if(i.sessionLabels.hasOwnProperty(a)&&!e.sessionProperties[a]){e.echo.addProperty(a,i.sessionLabels[a]);e.sessionProperties[a]=!0}n&&n.title&&(e.title=n.title.substr(0,60));(i.parentPIDType+"").indexOf("clip")!=-1&&(e.parentPIDType=c.PIPsType.CLIP)}},currentTime:function(e){var t=this,i=Math.round(1e3*t.player.currentTime());return e?1e3*60*60*24*365>i?0:i:t.isLive?0:i}};return t}(),C=function(){function t(){return window.performance&&window.performance.now&&window.performance.now().toFixed(0)}function n(e){var t=e._settings;if("audio"!=t.ui.skin){var i=t.container,n=t.posterUrl(i);if(!n||e.player&&!e.player.includePoster)i.style.backgroundImage="";else{var a="contain";(t.ui.displayCover||Math.abs(16/9-i.getBoundingClientRect("width")/i.getBoundingClientRect("height"))<.2)&&(a="cover");i.style.backgroundImage="url("+n+")";i.style.backgroundRepeat="no-repeat";i.style.backgroundPosition="center center";i.style.backgroundSize=a;i.style.backgroundColor="black";i.style.overflow="hidden"}"html"==e.type&&(i.style.overflow="")}}function o(t,i){var n=window.embeddedMedia;s=e.get();s.os.phantomjs&&(i.enableRdotReporting=!1);this.bumpRevision="-1";this.player=new l;this.player.fake=!0;this._events={};this.capability={markers:!1,queuedPlaylist:!1,previousPlaylist:!1,inPage:!1,chromecast:!1,overlay:!1,slim:!1};i.container=t;i.domid=t.getAttribute("id");var o=this._settings=new a(i);if(o.enableSonarReporting&&!o.noTracking){this._sonarReporter=new _;var r=!1;o.statsObject&&0==(o.statsObject.destination+"").indexOf("BBCS_")&&(r=!0);this._sonarReporter.init(o.html5Debug,i.counterName,r)}n.parentalGuidance||(n.parentalGuidance=new b(this._sonarReporter,o));o.guidance=n.parentalGuidance.guidance;var d=this,c=n.parentalGuidance;c.closedCallbacks.push(function(){var e={type:"guidanceClosed",guidance:o.guidance};d.trigger(e)});c.openedCallbacks.push(function(){var e={type:"guidanceShown"};d.trigger(e)});c.updateCallbacks.push(function(e){e.noPin=o.guidanceCleared;o.guidance=e;var t={type:"guidanceUpdated",guidance:o.guidance};d.trigger(t)});this._decisionEngine=new y(o);return this}var s;o.prototype={showGuidance:function(e,t,i,n){var a={lockClicked:i};a.title=e?e:"";a.guidance=t?t:"";a.intent=n?n:"play";var o=window.embeddedMedia.parentalGuidance,r=this._settings;r.guidanceCleared||o.show(a,r.ui.colour,r.locale(),!0)},lockGuidance:function(){this._settings.guidance.hasGuidancePIN===!0?window.embeddedMedia.parentalGuidance.setLocked(!0,!0):this.unlockGuidance()},unlockGuidance:function(){this.showGuidance("","",!0)},name:function(){return this._decisionEngine.name||"no-player"},decide:function(){(!this.player||this.player.fake||"smp-phantom"==this.name()&&!this._settings.phantomPlayer)&&(this.player=this._decisionEngine.decide());return this.name()},settings:function(e){if(e){this._settings.set(e);this.player.updateConfig(e)}return this._settings},distributedConfig:function(e,t){if(!i.isObjectEmpty(e)){"ui"==t&&(e={ui:e});this._settings.set(e,!0);"ui"==t?this.player.updateUiConfig(e.ui):this.player.updateConfig(e)}},poster:function(e){if("string"==typeof e){this._settings._poster=e;n(this)}},play:function(e){this.player.play(e!==!1)},pause:function(){this.player.pause()},suspend:function(){this.player.suspend()},next:function(e){this.player.next(e)},previous:function(e){this.player.previous(e)},currentTime:function(e){return this.player.currentTime(e)},showSubtitles:function(e){return this.player.showSubtitles(e)},showBumpPlaybackSettings:function(){this.player.showBumpPlaybackSettings()},duration:function(){return this.player.duration()},muted:function(e){return this.player.muted(e)},focusButton:function(e,t){var i=this,n=i.player;n.focusButton(e,t)},queuePlaylist:function(e,t){var i=this,n=i.player;n.queuePlaylist(e,t)},setPreviousPlaylist:function(e,t){var i=this,n=i.player;n.setPreviousPlaylist(e,t)},loadPlaylist:function(e,t){var a=this,o=a.player,r=a._settings;r.autoplay=!1;r.playlist="";r._poster=null;r.playlistObject=null;r.overrideHoldingImage=null;r.overrideCtaDuration=null;r.webcastData={};r.statsObject.parentPID=void 0;r.statsObject.parentPIDType=void 0;r.statsObject.episodePID=void 0;r.statsObject.clipPID=void 0;r.statsObject.brandPID=void 0;r.statsObject.seriesPID=void 0;r.statsObject.playlistLabels=void 0;r.statsObject.playlistURL=void 0;r.statsObject.playlistName=void 0;r.playlistObject=e;r.startTime=0;o.resetForPlaylist();a.settings(t);o._statsObject=i.clone(r.statsObject);o.includePoster&&(r.autoplay?setTimeout(function(){n(a)},100):n(a));o._lastSignificant=r.startTime;r.phantomPlayer||"smp-phantom"!=o._name?o.loadPlaylist(a):this.load()
},kind:function(){return this.player.kind()},captureIntent:function(e){return this.player.captureIntent(e)},stop:function(){this._settings.autoplay=!1;return this.player.stop()},loadPlugin:function(e,t){if(this.player.loadPlugin)this.player.loadPlugin(e,t);else if(e){e.data=t;this._settings.plugins.toLoad.push(e)}},linkMediaPlayer:function(e){this.player.linkMediaPlayer?this.player.linkMediaPlayer(e):console.error("No link available")},updateUiConfig:function(e){var t=this._settings;t.set({ui:e});this.player.updateUiConfig(e)},updateQuality:function(e){var t=this._settings;t.set(e);this.player.updateQuality(e)},setData:function(e){this.player.setData(e)},setPoster:function(e,t){this.player.setPoster(e,t)},dispatchEvent:function(e,t){this.player.dispatchEvent(e,t)},pauseAt:function(e){this.player.pauseAt(e)},webcastData:function(e){this._settings.webcastData=e;this.player.webcastData(e)},volume:function(e){var t=this.player.volume(e);return t},playbackRate:function(e){return this.player.playbackRate(e)},paused:function(){return this.player.paused()},ended:function(){return this.player.ended()},seeking:function(){return this.player.seeking()},mediaItem:function(){return this.player.mediaItem()},playlist:function(){return this.player.loadedPlaylist()},bind:function(e,t,i){for(var n=(e+"").split(/\s/),a=0;n.length>a;a++){var o=n[a];this._events[o]||(this._events[o]=[]);if(i)r={obj:t,handler:i};else var r=t;this._events[o].push(r)}},trigger:function(e){var t=e.type;if(this._events[t]){for(var i=[],n=0;this._events[t].length>n;n++)i.push(this._events[t][n]);for(n=0;i.length>n;n++){var a=i[n];if(a.handler){e.data=a.obj;a.handler(e)}else a(e)}}},unbind:function(e,t){if(this._events[e])for(var i=this._events[e].length;i>=0;i--)this._events[e][i]==t&&this._events[e].splice(i,1)},_loadOptions:function(e){var a=this;a._decisionEngine.setSettings(a._settings);var o=a._settings;if(o.playlistObject&&o.playlistObject.items){var d=o.playlistObject.items[0];if(d){var c=d.versionID||d.vpid||"";if(c.length>7&&"p09108vv,p09hh03z,p09hh046,p09hh03f,p09hh049,p09hh03x,p09hh04t,p09hh063,p09hh05v,p09hh3k5,p09hgzj3,p0g9hlfp,p0g9hm83,p0g9hm8f,p0g9hm9b,p0g9hm9n,p0g9hmb5,p0g9hmcs,p0g9hmdh,p0g9hmf0,p0g9hmfq".indexOf(c)>-1){o.plugins.toLoad.push({html:"https://storyplayer.pilots.bbcconnectedstudio.co.uk/smp-js"});o.ui.skin="storykit";o.waitOnPluginLoad=!0}}}a.player&&a.player.immediate&&(e=!0);a.decide();a.loadingData={now:t,load:t()};var p=a._decisionEngine.name,f=window.embeddedMedia;"smphtml5"==p&&!f.chromeCast.castInterface&&s.supportChromecast&&o.allowCasting&&(f.chromeCast.castInterface=new r(o));if(p){var m=function(e,t){window.embeddedMedia.addPlayer(o.domid,e);a.player=e;e.showErrorDialog=a.showErrorDialog;if(e.includePoster){e.setPoster=function(e){a.poster(e)};n(a)}o.statsObject.playlistURL||(o.statsObject.playlistURL=o.playlist||void 0);e._statsObject=i.clone(o.statsObject);if(a._sonarReporter){a._sonarReporter.newPlayer(a,e.requireSonarJS);e.sonar=a._sonarReporter}if(t){a.capability=t;t.toucanCompatible=g.prototype.compatibility(o,!0)}e.reloadScope=a};if("html"==a.player.type){var h=window.innerHeight;isNaN(h)&&(h=1e3);if(o.container&&o.container.getClientRects){var y=o.container.getClientRects();(!y[0]||h>y[0].y)&&(e=!0)}}window.embeddedMedia.playerInits++;a.create=function(){a.addInitialisationListener(a);a.player.trigger=function(e){a.trigger(e)};a.player.embed(o,m)};if(e||a.player.immediate)a.create();else if(0===window.embeddedMedia.players.length)a.create();else if(window.embeddedMedia.players[0].ready)a.create();else{var b=500*(window.embeddedMedia.playerInits+2);setTimeout(function(){a.create()},b)}}else{n(a);var w=6003;o.dashPlaybackOnly&&!o.threeSixty?w=6012:!s.supportedFlash||o.showUnsupportedMessage||o.threeSixty||(w=6010);var P=new u(w,o);o.ui.hideDefaultErrors||this.showErrorDialog(P);a.trigger(P);v.error(P.code,o);a.player=new l;a.player.fake=!0}return this},load:function(e){var t=this;"string"==typeof e?t._settings.playlist=e:"object"==typeof e&&t._settings.set(e);window.embeddedMedia.language.load(t._settings.locale(),function(){t._loadOptions()});return t},addInitialisationListener:function(e){var i=this._settings;clearTimeout(i.initialisationListenerTimeout);i.initialisationListenerTimeout=setTimeout(function(){var t=new u(6004,i);v.error(t.code,i,e.player._name);e.trigger(t)},1e4);e.bind("initialised",function(){clearTimeout(i.initialisationListenerTimeout);var n=t();if(n){e.loadingData.init=n;var a=!1;setTimeout(function(){if(!a){a=!0;v.info(e.loadingData,e)}},1e4)}})},showErrorDialog:function(e){var t=this._settings,n=t.container,a=t.ui.miniMode&&t.ui.miniMode.enabled,o=document.createElement("div");o.setAttribute("style","width:100%;height:100%;background:rgba(51,51,51,0.85);position:relative;min-height:160px");var r=document.createElement("div"),l=r.style;l.position="absolute";if(a){l.width="150px";l.height="80px";l.fontSize="16px"}else{l.width="440px";l.height="160px";l.fontSize="18px";if(s.os.winphone)l.top=l.left=l.marginLeft=l.marginTop=0;else{l.top=l.left="50%";l.marginLeft="-220px";l.marginTop="-80px"}}l.verticalAlign="middle";l.textAlign="center";l.color="white";l.fontFamily="arial, helvetica, sans-serif";var d=document.createElement("div");d.style.backgroundImage="url(https://emp.bbci.co.uk/emp/assets/2.1.0/alert.png)";d.style.backgroundRepeat="no-repeat";d.style.backgroundPosition="50% 0";d.style.height="22px";d.style.backgroundSize="22px";var c=document.createElement("div"),u=c.style;u.position="absolute";u.display="block";if(a)u.top=u.left=u.right="8px";else{u.top="38px";u.left=u.right="20px"}c.innerHTML=e.description;if(!a){var p=' target="_blank" style="color:white;text-decoration:underline;background-color : transparent;">';if(6010==e.code){var f=document.createElement("div"),m=f.style;m.position="absolute";m.bottom="20px";m.right=m.left="10px";f.innerHTML='<a href="https://www.bbc.co.uk/iplayer/help/questions/computer-issues/flash"'+p+window.embeddedMedia.language.t("deprecationMessageLongLink",t.locale())+"</a>";r.appendChild(f)}}o.appendChild(r);a||r.appendChild(d);if(n.getBoundingClientRect("width")<440){l.width="100%";l.fontSize="14px";a||(l.left="220px")}r.appendChild(c);n.appendChild(i.getWrapper(t).appendChild(o))}};return o}();!function(){var e={},t=i.addEmbeddedMedia();t.version=this.bumpVersion="4.38.14";t.api||(t.api={player:function(t,i){if(!t)throw"You need to provide a container for the player";var n=t.getAttribute("id");if("undefined"==typeof e[n]||e[n].settings().container!=t){if(!i)throw"No player settings. If you're trying to get a reference, it's probably not created yet.";if(!n){var a="bbcMediaPlayer",o=0;do n=a+o++;while(document.getElementById(n));t.setAttribute("id",n)}e[n]=new C(t,i)}else e[n].settings(i);return e[n]},players:function(){return e}})}();"function"==typeof define&&define.amd&&define("bump-4",[],function(){return window.embeddedMedia.api})}();